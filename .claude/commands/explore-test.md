---
description: 启动测试扩展探索智能体 - 在独立工作树中扩展测试覆盖，探索边界情况
---

# 测试扩展探索

启动 **Test Explorer** 智能体，在独立 Git 工作树中扩展测试覆盖和探索边界情况。

## 使用场景

- 想要提高测试覆盖率
- 探索边界情况和特殊场景
- 通过测试发现潜在 Bug
- 让 AI 疯狂写测试

## 执行流程

### 1. 读取项目规范

阅读以下文档了解项目规范：
- **CLAUDE.md** - 项目主文档
- **.kiro/steering/** - 项目 steering 文件
- **现有测试文件** - 了解测试风格

### 2. 创建决策日志

**🔴 重要：在开始任何工作前，必须创建决策日志文件**

```bash
# 复制决策日志模板
cp skills/multi-agent-explorer/templates/DECISION_JOURNAL.template.md DECISION_JOURNAL.md
```

决策日志记录你的测试设计思路和判断依据，是测试报告的重要补充。

### 3. 确定测试范围

请提供以下信息（可选）：
- 目标模块或文件
- 特别关注的场景
- 已知的测试盲区

### 3. 开始探索

按照 `skills/multi-agent-explorer/agents/test-explorer.md` 中定义的工作流程：

1. **分析现状** - 统计现有测试，识别盲区
2. **规划测试** - 设计测试场景和数据
3. **编写测试** - 覆盖正常、边界、异常情况
4. **运行验证** - 运行测试，修复失败
5. **生成报告** - 保存到 `文档/开发文档/MA/TEST/`

## 测试策略

### 单元测试
- 测试每个公共方法
- 测试正常情况
- 测试异常情况
- 测试边界值

### 边界情况
- 空值/null
- 空列表/空字符串
- 最大值/最小值
- 超长输入
- 特殊字符

### 异常情况
- 网络错误
- 数据库错误
- 并发问题
- 超时情况

## 测试命名规范

```kotlin
@Test
fun `功能描述_条件_预期结果`() {
    // Given
    // When
    // Then
}
```

## 工作原则

- ✅ **全面覆盖**：不遗漏边界情况
- ✅ **攻击性测试**：主动寻找可能的问题
- ✅ **自主决策**：无需频繁询问用户
- ✅ **报告优先**：记录所有发现
- ✅ **🔴 决策日志**：记录每个测试用例的设计理由

## 决策日志要求

**每30分钟至少更新一次决策日志**，记录：
1. 为什么选择测试这些场景？
2. 每个测试用例的设计理由是什么？
3. 发现的问题是真Bug还是测试写错了？
4. 给后续测试者的建议

## 约束条件

- 测试必须独立，不依赖执行顺序
- 测试必须可重复执行
- 报告保存到 `文档/开发文档/MA/TEST/`

## 测试命令

```bash
# 运行所有单元测试
./gradlew testDebugUnitTest

# 运行特定测试类
./gradlew testDebugUnitTest --tests "XxxTest"
```

---

**现在请告诉我你想测试哪个模块？或者让我自动分析整个项目的测试覆盖情况。**

