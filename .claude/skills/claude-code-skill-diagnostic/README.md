# Claude Code Skill 诊断与修复技能

> 自动诊断和修复 Claude Code 技能安装问题的专业工具

---

## 📖 简介

这是一个专门用于诊断和修复 Claude Code 技能安装问题的自动化工具。它能系统性地检查环境、文件、配置、权限等所有可能的问题点，并提供即时的修复方案。

---

## 🚀 快速开始

### 使用方式

在 Claude Code 中直接调用此技能：

```
请使用 claude-code-skill-diagnostic 技能帮我诊断技能安装问题
```

或者描述问题：

```
我的 Claude Code 技能无法显示，帮我检查一下
```

---

## 🔍 诊断内容

### 完整的8步诊断流程

1. **全环境检查** - Claude Code 版本、用户权限、网络状态
2. **技能文件搜索** - 定位所有可能的技能位置
3. **安装流程回溯** - 目录、文件、配置、注册、使用全链路检查
4. **常见问题专项** - YAML 语法、编码、权限、缓存等
5. **环境兼容性** - 操作系统、Python、系统工具
6. **网络和资源** - 在线资源依赖检查
7. **日志分析** - 错误日志和异常信息
8. **修复方案** - 按优先级提供修复建议

---

## 📁 技能文件结构

```
skills/claude-code-skill-diagnostic/
├── SKILL.md                              # 技能主文件
├── README.md                             # 本文件
└── templates/
    └── diagnostic-report-template.md     # 诊断报告模板
```

---

## 🎯 激活时机

此技能会在以下情况自动激活：

- ✅ Claude Code 技能无法正常加载
- ✅ 技能安装后无法在设置中显示
- ✅ 技能无法触发或执行时报错
- ✅ 需要验证技能配置是否正确
- ✅ 技能文件位置未知需要定位

---

## 🛠️ 常见问题速查

| 问题 | 可能原因 | 快速修复 |
|------|---------|---------|
| 技能不显示 | YAML 格式错误 | 检查并修正 YAML 头部 |
| 权限错误 | 文件权限不正确 | `chmod 644 SKILL.md` |
| 编码问题 | 文件编码非 UTF-8 | 转换为 UTF-8 编码 |
| 路径错误 | 技能目录位置错误 | 移动到正确目录 |
| 缓存问题 | 旧缓存未清理 | 重启 Claude Code |

---

## 📊 输出报告示例

诊断完成后会生成包含以下内容的报告：

```markdown
## 诊断摘要
- 总体状态: ✅ 正常 / ⚠️ 发现问题
- 发现问题数: 3
- 已修复问题数: 2
- 待处理问题数: 1

## 发现的问题
### 🔴 Critical
1. YAML 格式错误 - 已修复

### 🟠 Important
1. 文件权限不正确 - 已修复

### 🟡 Minor
1. 目录命名建议优化 - 待处理

## 修复清单
| 问题 | 严重级别 | 状态 | 修复方法 |
```

---

## 🔗 相关资源

- **官方文档**: https://support.claude.com/en/articles/12512198-how-to-create-custom-skills
- **技能规范**: [skills/README.md](../README.md)
- **配置文件**: [skills/skill-rules.json](../skill-rules.json)

---

## 📝 更新日志

### v1.0.0 (2025-12-26)
- ✅ 初始版本发布
- ✅ 完整的8步诊断流程
- ✅ 自动修复功能
- ✅ 诊断报告模板

---

**技能版本**: v1.0.0
**创建日期**: 2025-12-26
**维护者**: hushaokang
**适用环境**: macOS, Linux, Windows (WSL)
