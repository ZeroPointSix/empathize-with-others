---
name: planning
description: 计划编写 - 任务拆解、里程碑规划、资源评估、风险管理。在项目启动或需要制定实施计划时使用。
---

# 计划编写

## 激活时机

当满足以下条件时自动激活此技能：
- 项目启动需要计划
- 复杂任务需要拆解
- 需要评估工作量和时间
- 需要识别风险和依赖
- 需要分配任务给团队

## 计划框架

### 五步计划法

```
1. 明确目标 (Goal)
   定义要达成的结果

2. 任务拆解 (Breakdown)
   将目标分解为可执行任务

3. 依赖分析 (Dependencies)
   识别任务间依赖关系

4. 资源评估 (Resources)
   评估所需人力、时间、资源

5. 风险识别 (Risks)
   识别潜在风险和应对措施
```

## 目标定义

### SMART 原则

```
S - Specific 具体
   明确要做什么

M - Measurable 可衡量
   如何判断完成

A - Achievable 可实现
   现实可行

R - Relevant 相关
   与整体目标相关

T - Time-bound 有时限
   明确截止时间
```

### 目标示例

```
❌ 模糊目标
"提升用户体验"

✅ SMART 目标
"在3个月内，将页面加载时间从3秒降低到1.5秒，
 涵盖首页、列表页、详情页三个核心页面"
```

## 任务拆解

### WBS 工作分解结构

```
项目：用户认证系统

L1: 用户认证系统
  ├── L2: 前端部分
  │    ├── L3: 登录页面
  │    │    ├── UI 设计
  │    │    ├── 表单验证
  │    │    └── API 集成
  │    ├── L3: 注册页面
  │    └── L3: 密码重置
  ├── L2: 后端部分
  │    ├── L3: 认证 API
  │    ├── L3: Token 管理
  │    └── L3: 权限中间件
  └── L2: 数据库
       ├── L3: 表结构设计
       ├── L3: 数据迁移
       └── L3: 索引优化
```

### 任务粒度

```
✅ 好的任务粒度
- 可在1-3天内完成
- 有明确的验收标准
- 可独立测试
- 可明确指派

❌ 不当的任务粒度
- "完成用户模块"（太大）
- "修一个bug"（不明确）
- "研究一下"（无产出）
```

## 依赖分析

### 任务依赖类型

```
FS - Finish-to-Start（完成-开始）
  A 完成后 B 才能开始
  示例：设计完成后才能开发

SS - Start-to-Start（开始-开始）
  A 开始后 B 就能开始
  示例：后端 API 开发开始后前端就能开始

FF - Finish-to-Finish（完成-完成）
  A 完成后 B 才能完成
  示例：测试完成后部署才能完成

SF - Start-to-Finish（开始-完成）
  A 开始后 B 才能完成
  （较少使用）
```

### 依赖图示例

```
[需求分析]
    ↓
[系统设计]
    ↓
[数据库设计] ←──┐
    ↓          │
[后端开发]     │
    ↓          │
[API 对接] ←──[前端开发]
    ↓
[集成测试]
    ↓
[部署上线]
```

## 资源评估

### 工作量估算

```
技术1：专家判断法
- 基于经验估算
- 适合熟悉领域

技术2：类比估算法
- 参考类似项目
- 调整差异因素

技术3：三点估算法
- 乐观时间：1天
- 正常时间：3天
- 悲观时间：5天
- 期望时间：(1 + 4×3 + 5) / 6 = 3天
```

### 估算示例

```
任务：用户认证系统

| 任务 | 乐观 | 正常 | 悲观 | 期望 | 负责人 |
|------|------|------|------|------|--------|
| 需求分析 | 1天 | 2天 | 3天 | 2天 | Alice |
| 系统设计 | 2天 | 3天 | 5天 | 3.2天 | Bob |
| 数据库设计 | 1天 | 2天 | 3天 | 2天 | Bob |
| 后端开发 | 3天 | 5天 | 8天 | 5.2天 | Charlie |
| 前端开发 | 3天 | 5天 | 7天 | 5天 | David |
| 集成测试 | 2天 | 3天 | 4天 | 3天 | Eve |
| 部署上线 | 0.5天 | 1天 | 2天 | 1.1天 | Frank |
|--------|------|------|------|------|--------|
| 总计 | | | | 21.5天 | |

风险缓冲：+20% = 25.8天
```

## 风险管理

### 风险识别

```
技术风险：
- 新技术学习成本
- 技术方案可行性
- 第三方服务稳定性

资源风险：
- 人员变动
- 时间不足
- 预算限制

业务风险：
- 需求变更
- 优先级调整
- 上线时间压力

外部风险：
- 依赖服务故障
- 政策法规变化
- 安全漏洞
```

### 风险评估矩阵

```
影响程度：
  高 - 影响项目成功
  中 - 影响进度/质量
  低 - 轻微影响

发生概率：
  高 - >50%
  中 - 20-50%
  低 - <20%

            低    中    高
        +----+----+----+
      高 |  3 |  2 |  1 |
影       +----+----+----+
响      中 |  4 |  5 |  6 |
程       +----+----+----+
度      低 |  7 |  8 |  9 |
        +----+----+----+

优先级1-3：高优先级，必须制定应对措施
优先级4-6：中优先级，应该关注
优先级7-9：低优先级，可以接受
```

### 风险应对策略

```
规避：改变计划避免风险
示例：使用成熟技术避免技术风险

转移：将风险转移给第三方
示例：使用云服务转移运维风险

减轻：降低风险发生概率或影响
示例：充分测试降低质量风险

接受：接受风险并准备预案
示例：预留时间应对需求变更
```

## 里程碑规划

### 里程碑定义

```markdown
## 里程碑1：核心功能完成 (Week 2)

**目标**：
- 用户注册/登录功能可用
- 基础权限验证实现

**交付物**：
- 登录/注册页面
- 认证 API
- 单元测试覆盖率 >80%

**验收标准**：
- [ ] 用户可以成功注册
- [ ] 用户可以登录并获取 Token
- [ ] 受保护路由需要认证
- [ ] 测试全部通过

**依赖**：
- 数据库设计完成
- 后端框架搭建完成
```

### 项目时间线

```
Week 1: 需求和设计
├── 需求分析 (2天)
├── 系统设计 (2天)
└── 技术选型 (1天)

Week 2-3: 核心开发
├── 数据库设计 (2天)
├── 后端开发 (7天)
└── 前端开发 (5天)

Week 4: 集成和测试
├── 集成测试 (3天)
├── Bug 修复 (2天)
└── 性能优化 (1天)

Week 5: 部署和上线
├── 部署准备 (2天)
├── 灰度发布 (2天)
└── 全量上线 (1天)
```

## 计划模板

### 项目计划模板

```markdown
# 项目计划：[项目名称]

## 1. 项目概述

### 1.1 目标
[SMART 目标]

### 1.2 范围
包含：
- 功能A
- 功能B

不包含：
- 功能C（二期）

### 1.3 约束
- 时间：X周内完成
- 人力：X人
- 预算：¥X

## 2. 任务分解

### 阶段1：[阶段名称]
| 任务 | 负责人 | 开始 | 结束 | 状态 |
|------|--------|------|------|------|
| 任务1 | Name  | Date | Date | Todo |
| 任务2 | Name  | Date | Date | Todo |

## 3. 里程碑

| 里程碑 | 目标 | 日期 | 状态 |
|---------|------|------|------|
| M1 | ... | ... | Todo |

## 4. 风险管理

| 风险 | 概率 | 影响 | 应对措施 |
|------|------|------|---------|
| ... | ... | ... | ... |

## 5. 资源需求

| 资源类型 | 需求 | 当前 | 缺口 |
|---------|------|------|------|
| 人力 | ... | ... | ... |
| 环境 | ... | ... | ... |

## 6. 沟通计划

- 每日站会：每天 10:00
- 周报：每周五 17:00
- 里程碑评审：每个里程碑结束时
```

## 计划跟踪

### 进度跟踪

```
完成度计算：
- 任务完成数 / 总任务数 × 100%
- 或实际工时 / 预估工时 × 100%

燃尽图：
- 每天/每周更新剩余工作量
- 可视化进度趋势

关键路径：
- 影响整体完成时间的任务链
- 需要重点关注
```

### 变更管理

```
变更流程：
1. 提出变更申请
2. 评估影响（时间/成本/质量）
3. 批准/拒绝变更
4. 更新计划
5. 通知相关人员

变更记录：
| 日期 | 变更内容 | 影响 | 批准人 |
|------|---------|------|--------|
| ... | ... | ... | ... |
```

## 最佳实践

### ✅ 应该做的

```
1. 任务粒度适中（1-3天）
2. 明确验收标准
3. 识别任务依赖
4. 预留风险缓冲（20%）
5. 定期更新计划
```

### ❌ 不应该做的

```
1. 过度详细（无法适应变化）
2. 忽视依赖关系
3. 过分乐观的估算
4. 不考虑风险
5. 计划制定后不再更新
```

## 相关资源

- `resources/wbs-guide.md` - WBS 分解指南
- `resources/estimation.md` - 估算方法详解
- `templates/project-plan.md` - 项目计划模板

---

**技能状态**: 完成 ✅
**核心理念**: 计划是为了变化，保持灵活
**关键原则**: SMART 目标、WBS 分解、风险缓冲
