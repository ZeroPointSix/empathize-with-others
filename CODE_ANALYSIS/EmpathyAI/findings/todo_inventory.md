# TODO/FIXME 清单

> 技术债务分析报告 - 待完成任务清单
> 分析日期: 2026-01-03

---

## 概览

| 统计指标 | 数值 |
|---------|------|
| 包含 TODO/FIXME 的文件数 | 8 |
| TODO 任务总数 | 16 |
| 待实现功能 | 8 |
| 数据结构改进 | 2 |
| UI 改进 | 6 |

---

## 详细清单

### 1. ContactDetailTabViewModel.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 239 | TODO | 需要添加 `createdAt` 字段到 `ContactProfile` | 🟡 中 | 待处理 |
| 1512 | TODO | 从系统设置获取深色模式状态 | 🟡 低 | 待处理 |

**分析**:
- `createdAt` 字段是数据模型层面的改进，涉及数据库迁移
- 深色模式集成是UI层面的改进

---

### 2. NavGraph.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 160 | TODO | 实现 AI 军师页面 | 🔴 高 | 待处理 |
| 272 | TODO | 集成图片选择器 | 🟡 中 | 待处理 |

**分析**:
- AI 军师页面是核心功能缺失
- 图片选择器是辅助功能

---

### 3. BrainTagScreen.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 88 | TODO | 实现搜索功能 | 🟡 中 | 待处理 |

**分析**: 标签搜索是标签管理的核心功能

---

### 4. PromptEditorScreen.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 204 | TODO | AI 优化功能 | 🟡 中 | 待处理 |

**分析**: 提示词 AI 优化是高级功能，可后续实现

---

### 5. EditProviderScreen.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 222 | TODO | 显示添加模型对话框 | 🟡 中 | 待处理 |
| 276 | TODO | 实现 Temperature 设置 | 🟡 中 | 待处理 |
| 284 | TODO | 实现最大 Token 数设置 | 🟡 中 | 待处理 |

**分析**: 模型配置功能是 AI 配置的重要组成部分

---

### 6. AiConfigScreen.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 305 | TODO | 实现请求超时设置 | 🟡 中 | 待处理 |

**分析**: 超时设置是 AI 配置的基础功能

---

### 7. AddProviderScreen.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 196 | TODO | 显示添加模型对话框 | 🟡 中 | 待处理 |

**分析**: 与 EditProviderScreen 功能重复

---

### 8. ContactDetailTabScreen.kt

| 行号 | 类型 | 内容 | 优先级 | 状态 |
|-----|------|------|-------|------|
| 629 | TODO | 从状态获取已有总结日期 | 🟡 低 | 待处理 |

**分析**: UI 状态优化，属于低优先级

---

## 优先级分类

### 🔴 高优先级 (P1)

| 文件 | 行号 | 任务 |
|-----|------|------|
| NavGraph.kt | 160 | 实现 AI 军师页面 |

### 🟡 中优先级 (P2)

| 文件 | 行号 | 任务 |
|-----|------|------|
| NavGraph.kt | 272 | 集成图片选择器 |
| BrainTagScreen.kt | 88 | 实现搜索功能 |
| PromptEditorScreen.kt | 204 | AI 优化功能 |
| EditProviderScreen.kt | 222, 276, 284 | 模型配置功能 |
| AiConfigScreen.kt | 305 | 请求超时设置 |
| AddProviderScreen.kt | 196 | 添加模型对话框 |

### 🟢 低优先级 (P3)

| 文件 | 行号 | 任务 |
|-----|------|------|
| ContactDetailTabViewModel.kt | 239 | 添加 createdAt 字段 |
| ContactDetailTabViewModel.kt | 1512 | 深色模式集成 |
| ContactDetailTabScreen.kt | 629 | 获取总结日期 |

---

## 建议处理方式

### 立即处理 (P1)
- **AI 军师页面**: 这是核心功能，建议优先实现

### 短期处理 (P2)
- **模型配置功能**: EditProviderScreen 和 AddProviderScreen 存在功能重复，建议统一实现
- **搜索功能**: BrainTagScreen 的搜索是基本功能

### 长期规划 (P3)
- **数据模型改进**: createdAt 字段需要数据库迁移，可在下个版本处理
- **UI 优化**: 深色模式、总结日期等功能属于锦上添花

---

## 风险提示

1. **功能缺失风险**: AI 军师页面未实现可能影响核心用户体验
2. **重复开发风险**: 添加模型对话框在多个文件中都有 TODO
3. **技术债务累积**: 过多的 TODO 会降低代码可维护性

---

*报告生成时间: 2026-01-03*
*工具: Claude Code Technical Debt Analysis*
