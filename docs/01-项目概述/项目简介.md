---
标题: 项目简介
版本: v1.0
创建日期: 2025-12-08
最后更新: 2025-12-08
更新人: AI Assistant
状态: 活跃
标签: [项目概述, 简介]
相关文档: [技术栈.md, 开发路线图.md, 快速开始.md]
---

# 项目简介

**项目名称**: 共情AI助手 (Empathy AI Assistant)
**英文名称**: Give Love
**版本**: v1.0.2-dev (MVP)
**状态**: 开发中 (UI层 Phase 1 已完成)
**最后更新**: 2025-12-05

---

## 📖 项目概述

### 一句话描述

> 一款基于 AI 技术的社交沟通辅助应用，通过智能分析帮助用户在社交场景中更好地理解和回应对方。

### 核心理念

- 🔒 **隐私优先**: 零后端架构，所有数据本地存储，敏感信息强制脱敏
- 🤖 **AI 赋能**: 利用 LLM 提供智能化的沟通建议和风险预警
- 🎯 **实用导向**: 解决真实社交场景中的实际问题
- 🚫 **零后端**: 不维护服务器，用户自备 API Key (BYOK)

---

## 🎯 核心功能

### 1️⃣ 主动分析 (AI 军师)

**功能**: 点击 [💡 帮我分析] 按钮，AI 根据聊天上下文和联系人画像提供策略建议

**输入**:
- 当前聊天记录（自动抓取）
- 联系人画像（事实、雷区、策略）
- 用户的长期目标

**输出**:
```
💭 AI 军师分析

【对方状态】
情绪: 略显沮丧
原因: 钓鱼没有收获

【关键洞察】
• 对方热爱钓鱼（匹配画像）
• 避免提及金钱话题（雷区）

【建议回复】
"没事的，钓鱼本来就看运气。
你今天穿的这身衣服真不错！"

[复制] [填充]
```

---

### 2️⃣ 主动风控 (防踩雷)

**功能**: 点击 [🛡️ 帮我检查] 按钮，实时检测输入内容是否触发雷区

**检测机制**:
- **Layer 1**: 本地关键词匹配（< 500ms）
- **Layer 2**: 云端语义检查（可选，< 3s）

**示例**:

输入: "今晚能借钱吗？"
```
⚠️ 检测到风险！

命中雷区: 不要提钱

建议: 删除敏感内容
```

输入: "今晚一起吃饭？"
```
✅ 检查通过！
未发现风险内容
```

---

### 3️⃣ 数据喂养 (智能提取)

**功能**: 从文本或媒体文件中自动提取联系人信息

**支持格式**:
- 📝 文本: 直接粘贴聊天记录
- 🎵 音频: .mp3 (ASR 转录)
- 🎬 视频: .mp4 (音频提取 + OCR)

**提取内容**:
- 📋 事实信息: 姓名、住址、爱好等
- 🔴 雷区: 不喜欢的话题
- 🟢 策略: 沟通建议

**示例**:

输入文本:
```
他叫李四，住朝阳区，爱好钓鱼。
不喜欢吃香菜，不要提钱。
多夸他衣品好。
```

AI 提取:
```
【事实】住址: 朝阳区, 爱好: 钓鱼
【雷区】不吃香菜, 不要提钱
【策略】多夸他衣品好
```

---

## 📊 项目进度

### 当前完成度: 92%

| 模块 | 状态 | 进度 | 说明 |
|------|------|------|------|
| **Domain Layer** | ✅ 完成 | 100% | 5 模型 + 5 接口 + 11 UseCase + 1 服务 |
| **单元测试** | ✅ 完成 | 100% | 113/114 测试通过 |
| **Data Layer** | ✅ 完成 | 100% | Room + Retrofit + Hilt 全部实现 |
| **Presentation - ViewModel** | ✅ 完成 | 100% | 4个核心ViewModel完成 |
| **Presentation - Theme** | ✅ 完成 | 100% | Material Design 3主题系统 |
| **Presentation - Navigation** | ✅ 完成 | 100% | 完整的导航系统 + NavGraph |
| **Presentation - UI** | ✅ 完成 | 100% | Phase 1、2、3全部完成（4个Screen + 10个组件） |
| **Presentation - MainActivity** | ✅ 完成 | 100% | MainActivity集成完成 |
| **Presentation - Service** | ⏳ 待开始 | 0% | 悬浮窗 + 无障碍服务 |
| **集成测试** | 📄 文档完成 | - | 黑盒测试指南已完成 |

---

## 🎨 设计亮点

### 1. 隐私优先设计

**强制脱敏机制**:
```kotlin
// ❌ 错误: 直接发送原始数据
aiRepository.analyze(rawText)

// ✅ 正确: 必须先脱敏
val maskedText = PrivacyEngine.mask(rawText, privacyMapping)
aiRepository.analyze(maskedText)
```

**加密存储**:
- API Key 使用 `EncryptedSharedPreferences`
- 硬件级加密（Android Keystore）
- 敏感数据排除备份

---

### 2. 零 Android 依赖的 Domain Layer

**优势**:
- ✅ 可独立测试（无需 Android 模拟器）
- ✅ 可复用于其他平台（iOS、Desktop）
- ✅ 业务逻辑清晰，易于维护

**目录结构**:
```
domain/
├── model/           # 纯 Kotlin data class
├── repository/      # 接口定义（无实现）
├── usecase/         # 纯业务逻辑
└── service/         # 领域服务（如 PrivacyEngine）
```

---

### 3. RAG (Retrieval-Augmented Generation) 架构

**数据流**:
```
联系人画像 (Profile)
    ↓
雷区 & 策略 (BrainTags)
    ↓
聊天上下文 (Messages)
    ↓
Prompt 拼装
    ↓
隐私脱敏
    ↓
AI 推理
    ↓
结构化输出 (AnalysisResult)
```

---

### 4. 错误处理设计

**统一的 Result 模式**:
```kotlin
// 所有 Repository 方法返回 Result<T>
suspend fun getProfile(id: String): Result<ContactProfile?>

// UseCase 层统一处理异常
try {
    val profile = repository.getProfile(id).getOrThrow()
    // 业务逻辑
    Result.success(result)
} catch (e: Exception) {
    Result.failure(e)
}
```

---

## 🔐 安全性

### 隐私保护措施

1. **零后端架构**
   - 不维护服务器
   - 无用户账户体系
   - 所有数据本地存储

2. **强制脱敏**
   - 所有 AI 请求前必须脱敏
   - 使用占位符替换敏感信息
   - 支持自定义脱敏规则

3. **加密存储**
   - API Key 使用 EncryptedSharedPreferences
   - 硬件级加密（Android Keystore）
   - 敏感数据排除云备份

4. **权限最小化**
   - 只申请必需权限
   - 无障碍服务仅用于屏幕抓取
   - 不收集用户隐私数据

---

## 📈 性能指标

### 设计目标

| 指标 | 目标 | 说明 |
|------|------|------|
| **本地检查** | < 500ms | 关键词匹配响应时间 |
| **屏幕抓取** | < 2s | 完成文字抓取 |
| **AI 分析** | < 10s | 完整分析流程 |
| **内存占用** | < 200MB | 正常使用状态 |
| **APK 大小** | < 30MB | Release 版本 |

---

## 🤝 贡献指南

### 开发规范

1. **代码风格**: 遵循 Kotlin 官方规范
2. **提交规范**: 使用 Conventional Commits
3. **分支策略**: Git Flow
4. **测试要求**: 新功能必须包含单元测试

### 提交消息格式

```
<type>(<scope>): <subject>

<body>

<footer>
```

**类型 (type)**:
- `feat`: 新功能
- `fix`: Bug 修复
- `docs`: 文档更新
- `test`: 测试相关
- `refactor`: 重构
- `style`: 代码格式
- `chore`: 构建/工具变更

---

## 📞 联系方式

- **项目维护者**: hushaokang
- **问题反馈**: [GitHub Issues](待补充)
- **开发讨论**: (待补充)

---

## 📄 许可证

(待补充)

---

**最后更新**: 2025-12-05 (Phase 4 MainActivity集成完成)  
**维护者**: hushaokang  
**版本**: v1.0.4-dev