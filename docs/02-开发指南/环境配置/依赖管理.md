---
æ ‡é¢˜: ä¾èµ–ç®¡ç†
ç‰ˆæœ¬: v2.0
åˆ›å»ºæ—¥æœŸ: 2025-12-08
æœ€åæ›´æ–°: 2025-12-08
æ›´æ–°äºº: AI Assistant
çŠ¶æ€: æ´»è·ƒ
æ ‡ç­¾: [å¼€å‘æŒ‡å—, ç¯å¢ƒé…ç½®, ä¾èµ–ç®¡ç†]
ç›¸å…³æ–‡æ¡£: [../README.md, ä¾èµ–å¿«é€Ÿå‚è€ƒ.md]
---

# ä¾èµ–ç®¡ç†

---

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜å…±æƒ…AIåŠ©æ‰‹é¡¹ç›®çš„ä¾èµ–é…ç½®ç®¡ç†ï¼Œä½¿ç”¨ Gradle Version Catalog (libs.versions.toml) ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬ã€‚

---

## ğŸ—ï¸ é…ç½®æ–‡ä»¶ç»“æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ libs.versions.toml    # ç‰ˆæœ¬ç›®å½• (Version Catalog)
â”œâ”€â”€ build.gradle.kts           # æ ¹çº§æ„å»ºé…ç½®
â””â”€â”€ app/
    â””â”€â”€ build.gradle.kts       # åº”ç”¨æ¨¡å—æ„å»ºé…ç½®
```

---

## ğŸ“¦ ç‰ˆæœ¬ç›®å½• (libs.versions.toml)

### ç‰ˆæœ¬å®šä¹‰

```toml
[versions]
# Kotlin & Android
kotlin = "2.0.21"
androidGradlePlugin = "8.7.3"
compileSdk = "35"
minSdk = "24"
targetSdk = "35"

# Core Libraries
androidxCore = "1.15.0"
androidxAppcompat = "1.7.0"
androidxLifecycle = "2.8.7"
androidxActivity = "1.9.3"

# Jetpack Compose
composeBom = "2024.12.01"
composeMaterial3 = "1.3.1"
composeNavigation = "2.8.5"
composeActivity = "1.9.3"

# Dependency Injection
hilt = "2.52"
hiltNavigationCompose = "1.2.0"

# Database
room = "2.6.1"

# Network
retrofit = "2.11.0"
okhttp = "4.12.0"
moshi = "1.15.1"

# Coroutines
coroutines = "1.9.0"

# Security
securityCrypto = "1.1.0-alpha06"

# Media Processing
ffmpeg = "6.0-2"

# Testing
junit = "4.13.2"
mockk = "1.13.13"
espressoCore = "3.6.1"
composeUiTest = "1.7.5"

[libraries]
# Android Core
androidx-core-ktx = { group = "androidx.core", name = "core-ktx", version.ref = "androidxCore" }
androidx-appcompat = { group = "androidx.appcompat", name = "appcompat", version.ref = "androidxAppcompat" }
androidx-lifecycle-runtime-ktx = { group = "androidx.lifecycle", name = "lifecycle-runtime-ktx", version.ref = "androidxLifecycle" }
androidx-lifecycle-viewmodel-ktx = { group = "androidx.lifecycle", name = "lifecycle-viewmodel-ktx", version.ref = "androidxLifecycle" }
androidx-lifecycle-service = { group = "androidx.lifecycle", name = "lifecycle-service", version.ref = "androidxLifecycle" }
androidx-activity-ktx = { group = "androidx.activity", name = "activity-ktx", version.ref = "androidxActivity" }

# Jetpack Compose
compose-bom = { group = "androidx.compose", name = "compose-bom", version.ref = "composeBom" }
compose-ui = { group = "androidx.compose.ui", name = "ui" }
compose-ui-tooling = { group = "androidx.compose.ui", name = "ui-tooling" }
compose-ui-tooling-preview = { group = "androidx.compose.ui", name = "ui-tooling-preview" }
compose-material3 = { group = "androidx.compose.material3", name = "material3", version.ref = "composeMaterial3" }
compose-navigation = { group = "androidx.navigation", name = "navigation-compose", version.ref = "composeNavigation" }
compose-activity = { group = "androidx.activity", name = "activity-compose", version.ref = "composeActivity" }

# Dependency Injection
hilt-android = { group = "com.google.dagger", name = "hilt-android", version.ref = "hilt" }
hilt-compiler = { group = "com.google.dagger", name = "hilt-compiler", version.ref = "hilt" }
hilt-navigation-compose = { group = "androidx.hilt", name = "hilt-navigation-compose", version.ref = "hiltNavigationCompose" }

# Database
room-runtime = { group = "androidx.room", name = "room-runtime", version.ref = "room" }
room-compiler = { group = "androidx.room", name = "room-compiler", version.ref = "room" }
room-ktx = { group = "androidx.room", name = "room-ktx", version.ref = "room" }

# Network
retrofit = { group = "com.squareup.retrofit2", name = "retrofit", version.ref = "retrofit" }
retrofit-converter-moshi = { group = "com.squareup.retrofit2", name = "converter-moshi", version.ref = "retrofit" }
okhttp = { group = "com.squareup.okhttp3", name = "okhttp", version.ref = "okhttp" }
okhttp-logging-interceptor = { group = "com.squareup.okhttp3", name = "logging-interceptor", version.ref = "okhttp" }

# JSON Serialization
moshi = { group = "com.squareup.moshi", name = "moshi", version.ref = "moshi" }
moshi-kotlin = { group = "com.squareup.moshi", name = "moshi-kotlin", version.ref = "moshi" }
moshi-codegen = { group = "com.squareup.moshi", name = "moshi-codegen", version.ref = "moshi" }

# Coroutines
kotlinx-coroutines-core = { group = "org.jetbrains.kotlinx", name = "kotlinx-coroutines-core", version.ref = "coroutines" }
kotlinx-coroutines-android = { group = "org.jetbrains.kotlinx", name = "kotlinx-coroutines-android", version.ref = "coroutines" }

# Security
security-crypto = { group = "androidx.security", name = "security-crypto", version.ref = "securityCrypto" }

# Media Processing
ffmpeg-kit-full = { group = "com.arthenica", name = "ffmpeg-kit-full", version.ref = "ffmpeg" }

# Testing
junit = { group = "junit", name = "junit", version.ref = "junit" }
mockk = { group = "io.mockk", name = "mockk", version.ref = "mockk" }
androidx-test-ext-junit = { group = "androidx.test.ext", name = "junit", version.ref = "androidxCore" }
espresso-core = { group = "androidx.test.espresso", name = "espresso-core", version.ref = "espressoCore" }
compose-ui-test = { group = "androidx.compose.ui", name = "ui-test-junit4", version.ref = "composeBom" }

[plugins]
android-application = { id = "com.android.application", version.ref = "androidGradlePlugin" }
kotlin-android = { id = "org.jetbrains.kotlin.android", version.ref = "kotlin" }
kotlin-compose = { id = "org.jetbrains.kotlin.plugin.compose", version.ref = "kotlin" }
kotlin-serialization = { id = "org.jetbrains.kotlin.plugin.serialization", version.ref = "kotlin" }
hilt = { id = "com.google.dagger.hilt.android", version.ref = "hilt" }
ksp = { id = "com.google.devtools.ksp", version.ref = "kotlin" }
room = { id = "androidx.room", version.ref = "room" }
```

---

## ğŸ”§ æ„å»ºé…ç½®

### æ ¹çº§é…ç½® (build.gradle.kts)

```kotlin
plugins {
    alias(libs.plugins.android.application) apply false
    alias(libs.plugins.kotlin.android) apply false
    alias(libs.plugins.kotlin.compose) apply false
    alias(libs.plugins.hilt) apply false
    alias(libs.plugins.ksp) apply false
}

tasks.register("clean", Delete::class) {
    delete(rootProject.buildDir)
}
```

### åº”ç”¨çº§é…ç½® (app/build.gradle.kts)

```kotlin
plugins {
    alias(libs.plugins.android.application)
    alias(libs.plugins.kotlin.android)
    alias(libs.plugins.kotlin.compose)
    alias(libs.plugins.hilt)
    alias(libs.plugins.ksp)
    alias(libs.plugins.room)
}

android {
    namespace = "com.empathy.ai"
    compileSdk = libs.versions.compileSdk.get().toInt()

    defaultConfig {
        applicationId = "com.empathy.ai"
        minSdk = libs.versions.minSdk.get().toInt()
        targetSdk = libs.versions.targetSdk.get().toInt()
        versionCode = 1
        versionName = "1.0.0"

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
        vectorDrawables {
            useSupportLibrary = true
        }
    }

    buildTypes {
        release {
            isMinifyEnabled = true
            isShrinkResources = true
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_17
        targetCompatibility = JavaVersion.VERSION_17
    }

    kotlinOptions {
        jvmTarget = "17"
    }

    buildFeatures {
        compose = true
    }

    composeOptions {
        kotlinCompilerExtensionVersion = libs.versions.composeBom.get()
    }

    packaging {
        resources {
            excludes += "/META-INF/{AL2.0,LGPL2.1}"
        }
    }
}

dependencies {
    // Android Core
    implementation(libs.androidx.core.ktx)
    implementation(libs.androidx.appcompat)
    implementation(libs.androidx.lifecycle.runtime.ktx)
    implementation(libs.androidx.lifecycle.viewmodel.ktx)
    implementation(libs.androidx.lifecycle.service)
    implementation(libs.androidx.activity.ktx)

    // Jetpack Compose
    implementation(platform(libs.compose.bom))
    implementation(libs.compose.ui)
    implementation(libs.compose.ui.tooling)
    implementation(libs.compose.ui.tooling.preview)
    implementation(libs.compose.material3)
    implementation(libs.compose.navigation)
    implementation(libs.compose.activity)

    // Dependency Injection
    implementation(libs.hilt.android)
    ksp(libs.hilt.compiler)
    implementation(libs.hilt.navigation.compose)

    // Database
    implementation(libs.room.runtime)
    implementation(libs.room.ktx)
    ksp(libs.room.compiler)

    // Network
    implementation(libs.retrofit)
    implementation(libs.retrofit.converter.moshi)
    implementation(libs.okhttp)
    implementation(libs.okhttp.logging.interceptor)

    // JSON Serialization
    implementation(libs.moshi)
    implementation(libs.moshi.kotlin)
    ksp(libs.moshi.codegen)

    // Coroutines
    implementation(libs.kotlinx.coroutines.core)
    implementation(libs.kotlinx.coroutines.android)

    // Security
    implementation(libs.security.crypto)

    // Media Processing
    implementation(libs.ffmpeg.kit.full)

    // Testing
    testImplementation(libs.junit)
    testImplementation(libs.mockk)
    androidTestImplementation(libs.androidx.test.ext.junit)
    androidTestImplementation(libs.espresso.core)
    androidTestImplementation(platform(libs.compose.bom))
    androidTestImplementation(libs.compose.ui.test)
}
```

---

## ğŸ“¦ ä¾èµ–åˆ†ç±»è¯´æ˜

### ğŸ“± Android æ ¸å¿ƒ

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| androidx.core-ktx | 1.15.0 | Android æ ¸å¿ƒæ‰©å±• | æä¾› KTX æ‰©å±•å‡½æ•° |
| androidx.appcompat | 1.7.0 | å‘ä¸‹å…¼å®¹ | æ”¯æŒ Material Design |
| androidx.lifecycle | 2.8.7 | ç”Ÿå‘½å‘¨æœŸç®¡ç† | ViewModel å’Œ Service æ”¯æŒ |
| androidx.activity | 1.9.3 | Activity ç®¡ç† | Activity KTX æ‰©å±• |

### ğŸ¨ Jetpack Compose

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| compose-bom | 2024.12.01 | Compose ç‰ˆæœ¬ç®¡ç† | ç»Ÿä¸€ç®¡ç† Compose ä¾èµ– |
| compose-ui | BOM ç‰ˆæœ¬ | UI ç»„ä»¶ | åŸºç¡€ UI ç»„ä»¶ |
| compose-material3 | 1.3.1 | Material Design 3 | Material 3 ç»„ä»¶ |
| compose-navigation | 2.8.5 | å¯¼èˆª | ç±»å‹å®‰å…¨å¯¼èˆª |
| compose-activity | 1.9.3 | Activity é›†æˆ | Compose Activity æ”¯æŒ |

### ğŸ’‰ ä¾èµ–æ³¨å…¥

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| hilt-android | 2.52 | ä¾èµ–æ³¨å…¥æ¡†æ¶ | Android Hilt è¿è¡Œæ—¶ |
| hilt-compiler | 2.52 | ç¼–è¯‘å™¨ | Hilt æ³¨è§£å¤„ç†å™¨ |
| hilt-navigation-compose | 1.2.0 | å¯¼èˆªé›†æˆ | Hilt Compose å¯¼èˆªæ”¯æŒ |

### ğŸ—„ï¸ æ•°æ®åº“

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| room-runtime | 2.6.1 | æ•°æ®åº“è¿è¡Œæ—¶ | Room æ•°æ®åº“æ ¸å¿ƒ |
| room-ktx | 2.6.1 | åç¨‹æ”¯æŒ | Room åç¨‹æ‰©å±• |
| room-compiler | 2.6.1 | ç¼–è¯‘å™¨ | Room æ³¨è§£å¤„ç†å™¨ |

### ğŸŒ ç½‘ç»œè¯·æ±‚

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| retrofit | 2.11.0 | HTTP å®¢æˆ·ç«¯ | REST API è°ƒç”¨ |
| retrofit-converter-moshi | 2.11.0 | JSON è½¬æ¢å™¨ | Retrofit Moshi æ”¯æŒ |
| okhttp | 4.12.0 | HTTP å®¢æˆ·ç«¯ | ç½‘ç»œè¯·æ±‚åº•å±‚ |
| okhttp-logging-interceptor | 4.12.0 | æ—¥å¿—æ‹¦æˆªå™¨ | ç½‘ç»œè¯·æ±‚æ—¥å¿— |

### ğŸ“¦ JSON åºåˆ—åŒ–

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| moshi | 1.15.1 | JSON è§£æ | é«˜æ€§èƒ½ JSON åº“ |
| moshi-kotlin | 1.15.1 | Kotlin æ”¯æŒ | Kotlin ç±»å‹æ”¯æŒ |
| moshi-codegen | 1.15.1 | ä»£ç ç”Ÿæˆ | æ³¨è§£å¤„ç†å™¨ |

### âš¡ åç¨‹

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| kotlinx-coroutines-core | 1.9.0 | åç¨‹æ ¸å¿ƒ | åç¨‹åŸºç¡€åº“ |
| kotlinx-coroutines-android | 1.9.0 | Android æ”¯æŒ | Android åç¨‹æ‰©å±• |

### ğŸ” å®‰å…¨åŠ å¯†

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| security-crypto | 1.1.0-alpha06 | åŠ å¯†å­˜å‚¨ | EncryptedSharedPreferences |

### ğŸ¬ åª’ä½“å¤„ç†

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| ffmpeg-kit-full | 6.0-2 | éŸ³è§†é¢‘å¤„ç† | FFmpeg Android ç»‘å®š |

### ğŸ§ª æµ‹è¯•

| åº“ | ç‰ˆæœ¬ | ç”¨é€” | è¯´æ˜ |
|------|------|------|------|
| junit | 4.13.2 | å•å…ƒæµ‹è¯• | Java æµ‹è¯•æ¡†æ¶ |
| mockk | 1.13.13 | Mock æ¡†æ¶ | Kotlin Mock åº“ |
| androidx-test-ext-junit | 1.15.0 | Android æµ‹è¯• | Android æµ‹è¯•æ‰©å±• |
| espresso-core | 3.6.1 | UI æµ‹è¯• | Android UI æµ‹è¯• |
| compose-ui-test | BOM ç‰ˆæœ¬ | Compose æµ‹è¯• | Compose UI æµ‹è¯•æ”¯æŒ |

---

## ğŸ”„ ä¾èµ–æ›´æ–°ç­–ç•¥

### ç‰ˆæœ¬æ›´æ–°åŸåˆ™

1. **å®šæœŸæ£€æŸ¥**: æ¯æœˆæ£€æŸ¥ä¸€æ¬¡ä¾èµ–æ›´æ–°
2. **å®‰å…¨ä¼˜å…ˆ**: ä¼˜å…ˆæ›´æ–°å®‰å…¨ç›¸å…³ä¾èµ–
3. **ç¨³å®šæ€§è€ƒè™‘**: ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¨³å®šç‰ˆæœ¬
4. **å…¼å®¹æ€§éªŒè¯**: æ›´æ–°å‰éªŒè¯å…¼å®¹æ€§

### æ›´æ–°æµç¨‹

1. **æ£€æŸ¥æ›´æ–°**:
   ```bash
   ./gradlew dependencyUpdates
   ```

2. **æµ‹è¯•éªŒè¯**:
   - ç¼–è¯‘æµ‹è¯•
   - å•å…ƒæµ‹è¯•
   - é›†æˆæµ‹è¯•

3. **é€æ­¥æ›´æ–°**:
   - å…ˆæ›´æ–°éæ ¸å¿ƒä¾èµ–
   - éªŒè¯æ— é—®é¢˜åæ›´æ–°æ ¸å¿ƒä¾èµ–

4. **ç‰ˆæœ¬é”å®š**:
   - ç”Ÿäº§ç¯å¢ƒé”å®šç¨³å®šç‰ˆæœ¬
   - å¼€å‘ç¯å¢ƒå¯ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬

---

## ğŸš¨ å¸¸è§é—®é¢˜

### ä¾èµ–å†²çª

**é—®é¢˜**: Compose BOM ä¸å…¶ä»–ä¾èµ–ç‰ˆæœ¬å†²çª
**è§£å†³**: ç¡®ä¿æ‰€æœ‰ Compose ä¾èµ–ä½¿ç”¨ BOM ç‰ˆæœ¬

```kotlin
// æ­£ç¡®åšæ³•
implementation(platform(libs.compose.bom))
implementation(libs.compose.ui)

// é”™è¯¯åšæ³•
implementation("androidx.compose.ui:ui:1.5.0")
```

### ç¼–è¯‘é”™è¯¯

**é—®é¢˜**: Hilt ç¼–è¯‘å¤±è´¥
**è§£å†³**: æ£€æŸ¥ KSP é…ç½®

```kotlin
// ç¡®ä¿ KSP é…ç½®æ­£ç¡®
ksp(libs.hilt.compiler)
ksp(libs.room.compiler)
```

### è¿è¡Œæ—¶é”™è¯¯

**é—®é¢˜**: Room æ•°æ®åº“è®¿é—®å¼‚å¸¸
**è§£å†³**: æ£€æŸ¥æ•°æ®åº“ç‰ˆæœ¬å’Œè¿ç§»

```kotlin
// æ·»åŠ æ•°æ®åº“è¿ç§»
@Database(
    entities = [ContactProfileEntity::class],
    version = 2,
    autoMigrations = true
)
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ç¼–è¯‘ä¼˜åŒ–

1. **å¯ç”¨ KSP**: ä½¿ç”¨ KSP æ›¿ä»£ KAPTï¼Œæå‡ç¼–è¯‘é€Ÿåº¦
2. **å¢é‡ç¼–è¯‘**: å¯ç”¨ Gradle å¢é‡ç¼–è¯‘
3. **å¹¶è¡Œç¼–è¯‘**: é…ç½®åˆé€‚çš„å¹¶è¡Œä»»åŠ¡æ•°

### è¿è¡Œæ—¶ä¼˜åŒ–

1. **ä¾èµ–æ‡’åŠ è½½**: ä½¿ç”¨ Hilt æ‡’åŠ è½½å‡å°‘å¯åŠ¨æ—¶é—´
2. **ç½‘ç»œè¿æ¥å¤ç”¨**: é…ç½® OkHttp è¿æ¥æ± 
3. **æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–**: ä½¿ç”¨ç´¢å¼•å’Œé€‚å½“çš„æŸ¥è¯¢æ–¹æ³•

---

## ğŸ”§ å¼€å‘å·¥å…·

### IDE é…ç½®

1. **Android Studio**: æœ€æ–°ç¨³å®šç‰ˆ
2. **æ’ä»¶æ¨è**:
   - Hilt Navigation
   - Room
   - Compose

### å‘½ä»¤è¡Œå·¥å…·

```bash
# æŸ¥çœ‹ä¾èµ–æ ‘
./gradlew app:dependencies

# åˆ†æä¾èµ–
./gradlew app:dependencyInsight

# æ£€æŸ¥æ›´æ–°
./gradlew dependencyUpdates
```

---

**æœ€åæ›´æ–°**: 2025-12-08  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ  
**ç‰ˆæœ¬**: v2.0