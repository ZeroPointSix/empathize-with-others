# BUG-00021: 悬浮窗结果页内容过长导致按钮不可见

## 问题描述
用户反馈在分析回复和润色结果字数较多时，内容区域会占满整个悬浮窗，导致底部的"复制"和"重新生成"按钮被挤出屏幕外，无法点击。

## 根本原因分析
1. **固定最大高度失效或不足**：虽然 `MaxHeightScrollView` 设置了 `200dp` 的最大高度，但在某些小屏幕设备或大字体设置下，配合输入框、标题栏等其他组件，总高度仍可能超过屏幕可见区域。
2. **缺乏动态适配**：当前的布局参数是固定的（XML中写死），没有根据实际屏幕高度进行适配。悬浮窗使用 `WindowManager` 管理，若内容高度超过屏幕，系统不会自动调整窗口大小以适应屏幕，而是直接裁剪或延伸到屏幕外。
3. **重心偏移**：`WindowManager` 的 Gravity 设置为 `CENTER`，当高度增加时，窗口向上下两个方向延伸，容易导致底部按钮超出屏幕下边缘。

## 解决方案
采用 **"动态高度限制"** 策略：

1. **动态计算可用高度**：在显示结果时，获取当前屏幕高度。
2. **设置安全阈值**：计算屏幕高度的 40%~50% 作为结果区域的最大允许高度，确保留出足够空间给键盘、输入框和底部按钮。
3. **代码实现**：
   - 在 `ResultCard` 中暴露 `setMaxHeight` 方法。
   - 在 `FloatingViewV2` 的 `showResult` 方法中，根据 `resources.displayMetrics.heightPixels` 动态计算并设置结果卡片的最大高度。

## 验证计划
1. **长文本测试**：生成超过 500 字的 AI 分析结果，检查按钮是否可见。
2. **小屏幕/横屏测试**：在不同分辨率模拟器上测试。
3. **键盘交互测试**：在输入框弹出键盘的情况下，检查布局是否合理调整。

## 影响范围
- `FloatingViewV2.kt`
- `ResultCard.kt`
