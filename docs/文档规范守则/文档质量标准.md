# 文档质量标准

**版本**: v1.0  
**创建日期**: 2025-12-08  
**最后更新**: 2025-12-08  
**更新人**: AI Assistant  
**状态**: 活跃  
**适用团队**: 5人以下小团队  
**开发周期**: 1周迭代  

---

## 📋 质量标准概述

本文档定义了轻量级文档质量标准，专为小团队、快速迭代、Markdown+Git工具链设计，确保5分钟内完成文档质量评估。

### 质量目标

1. **快速评估**：5分钟内完成文档质量检查
2. **量化评分**：0-5分评分系统，客观衡量文档质量
3. **持续改进**：基于评分结果持续优化文档质量
4. **自动化优先**：利用工具减少人工评估工作量

---

## 📊 质量评分系统

### 评分维度和权重

| 评分维度 | 权重 | 评分标准 | 最高分 |
|---------|--------|----------|--------|
| 格式规范性 | 30% | 完全符合模板格式 | 1.5分 |
| 内容完整性 | 25% | 包含所有必要章节 | 1.25分 |
| 逻辑清晰性 | 20% | 结构清晰，易于理解 | 1.0分 |
| 链接有效性 | 15% | 所有链接可访问 | 0.75分 |
| 版本信息 | 10% | 版本信息完整准确 | 0.5分 |

### 评分计算公式

总分 = (格式得分 × 0.3) + (内容得分 × 0.25) + (逻辑得分 × 0.2) + (链接得分 × 0.15) + (版本得分 × 0.1)

### 质量等级划分

| 等级 | 分数范围 | 描述 | 改进建议 |
|------|----------|----------|----------|
| 优秀 | 4.5-5.0分 | 质量很高，可作为模板 | 保持当前水平 |
| 良好 | 4.0-4.4分 | 质量较好，小幅优化 | 细节完善 |
| 合格 | 3.5-3.9分 | 质量达标，需要改进 | 重点提升弱项 |
| 需改进 | 3.0-3.4分 | 质量不足，必须改进 | 全面优化 |
| 不合格 | 0.0-2.9分 | 质量很差，重写 | 重新编写 |

---

## ✅ 快速质量检查

### 3分钟检查流程

#### 第1分钟：自动化检查

运行自动化脚本进行基础检查：

```bash
#!/bin/bash
# 快速质量检查脚本

echo "开始文档质量检查..."

# 1. Markdown格式检查
echo "1. 检查Markdown格式..."
find docs -name "*.md" -exec markdownlint {} \;
FORMAT_ERRORS=$?

# 2. 链接有效性检查
echo "2. 检查链接有效性..."
find docs -name "*.md" -exec markdown-link-check {} \;
LINK_ERRORS=$?

# 3. 元信息完整性检查
echo "3. 检查元信息完整性..."
python scripts/check-metadata.py docs/
METADATA_ERRORS=$?

# 4. 生成快速报告
echo "4. 生成质量报告..."
python scripts/quick-quality-report.py $FORMAT_ERRORS $LINK_ERRORS $METADATA_ERRORS

echo "✅ 自动化检查完成"
```

#### 第2分钟：内容快速评估

人工快速浏览文档内容，进行以下评估：

1. **内容完整性检查**
   - [ ] 包含文档概述
   - [ ] 包含必要章节
   - [ ] 包含示例代码
   - [ ] 包含相关链接

2. **逻辑清晰性检查**
   - [ ] 章节结构合理
   - [ ] 内容逻辑连贯
   - [ ] 表达清晰易懂
   - [ ] 重点内容突出

3. **技术准确性检查**
   - [ ] 技术描述正确
   - [ ] 示例代码可运行
   - [ ] 数据和配置准确

#### 第3分钟：评分和记录

根据检查结果计算质量评分并记录：

```python
#!/usr/bin/env python3
import json
from datetime import datetime

def calculate_quality_score(format_score, content_score, logic_score, link_score, version_score):
    """计算文档质量评分"""
    total = (format_score * 0.3 + 
              content_score * 0.25 + 
              logic_score * 0.2 + 
              link_score * 0.15 + 
              version_score * 0.1)
    
    if total >= 4.5:
        grade = "优秀"
    elif total >= 4.0:
        grade = "良好"
    elif total >= 3.5:
        grade = "合格"
    elif total >= 3.0:
        grade = "需改进"
    else:
        grade = "不合格"
    
    return {
        'total': round(total, 2),
        'grade': grade,
        'timestamp': datetime.now().isoformat()
    }

if __name__ == '__main__':
    # 从命令行参数获取检查结果
    format_score = float(sys.argv[1]) if len(sys.argv) > 1 else 0.0
    content_score = float(sys.argv[2]) if len(sys.argv) > 2 else 0.0
    logic_score = float(sys.argv[3]) if len(sys.argv) > 3 else 0.0
    link_score = float(sys.argv[4]) if len(sys.argv) > 4 else 0.0
    version_score = float(sys.argv[5]) if len(sys.argv) > 5 else 0.0
    
    result = calculate_quality_score(format_score, content_score, logic_score, link_score, version_score)
    
    print(json.dumps(result, ensure_ascii=False, indent=2))
```

---

## 📋 详细评分标准

### 格式规范性（30%权重）

#### 评分标准

| 得分 | 评分标准 | 典型表现 |
|------|----------|----------|
| 1.5分 | 完全符合模板格式 | 标题层级正确，列表格式规范，代码块语法正确 |
| 1.2分 | 基本符合格式 | 有少量格式问题，但不影响阅读 |
| 0.9分 | 格式问题较多 | 标题层级混乱，格式不一致 |
| 0.6分 | 格式问题严重 | 严重影响文档可读性 |
| 0.0分 | 完全不符合格式 | 无格式规范，难以阅读 |

#### 检查清单

- [ ] 文档标题层级正确（H1→H2→H3...）
- [ ] 列表格式规范（使用-、*、数字）
- [ ] 代码块语法正确（```kotlin、```bash等）
- [ ] 表格格式规范（对齐整齐，表头清晰）
- [ ] 图片和链接格式正确（alt文本，链接有效）

### 内容完整性（25%权重）

#### 评分标准

| 得分 | 评分标准 | 典型表现 |
|------|----------|----------|
| 1.25分 | 包含所有必要章节 | 概述、正文、总结、历史等完整 |
| 1.0分 | 包含主要章节 | 概述、正文等主要内容完整 |
| 0.8分 | 缺少重要章节 | 缺少概述或总结等重要部分 |
| 0.6分 | 内容不完整 | 缺少多个重要章节 |
| 0.3分 | 内容严重缺失 | 只有零散内容，结构不完整 |

#### 检查清单

- [ ] 包含文档概述（背景、目标、范围）
- [ ] 包含详细内容（技术实现、使用方法等）
- [ ] 包含相关示例（代码片段、配置示例）
- [ ] 包含总结信息（要点回顾、经验总结）
- [ ] 包含相关链接（参考文档、相关资源）

### 逻辑清晰性（20%权重）

#### 评分标准

| 得分 | 评分标准 | 典型表现 |
|------|----------|----------|
| 1.0分 | 逻辑清晰，结构合理 | 章节组织合理，内容逻辑连贯 |
| 0.8分 | 逻辑基本清晰 | 结构基本合理，偶有逻辑跳跃 |
| 0.6分 | 逻辑不够清晰 | 结构有些混乱，逻辑不够连贯 |
| 0.3分 | 逻辑混乱 | 结构混乱，内容难以理解 |
| 0.0分 | 完全无逻辑 | 内容杂乱无章法 |

#### 检查清单

- [ ] 章节组织合理（概述→详细→总结）
- [ ] 内容逻辑连贯（前后呼应，无矛盾）
- [ ] 重点内容突出（核心信息明确标识）
- [ ] 表达清晰易懂（语言简洁，术语一致）
- [ ] 层次结构清晰（信息分层，递进合理）

### 链接有效性（15%权重）

#### 评分标准

| 得分 | 评分标准 | 典型表现 |
|------|----------|----------|
| 0.75分 | 所有链接有效 | 内部链接正确，外部链接可访问 |
| 0.6分 | 基本链接有效 | 少量链接失效，不影响主要内容 |
| 0.4分 | 部分链接失效 | 多个链接失效，影响文档使用 |
| 0.2分 | 链接问题严重 | 大量链接失效，严重影响文档价值 |
| 0.0分 | 链接完全失效 | 无有效链接，文档孤立 |

#### 检查清单

- [ ] 内部链接使用相对路径（避免绝对路径）
- [ ] 外部链接可访问（非404错误）
- [ ] 图片资源存在（非失效图片）
- [ ] 锚点链接正确（页面内跳转准确）
- [ ] 链接文本描述清晰（明确说明链接内容）

### 版本信息（10%权重）

#### 评分标准

| 得分 | 评分标准 | 典型表现 |
|------|----------|----------|
| 0.5分 | 版本信息完整 | 包含版本、日期、更新人等完整信息 |
| 0.4分 | 版本信息基本完整 | 包含主要版本信息，缺少次要信息 |
| 0.3分 | 版本信息不完整 | 缺少重要版本信息 |
| 0.1分 | 版本信息严重缺失 | 几乎没有版本信息 |
| 0.0分 | 无版本信息 | 完全没有版本信息 |

#### 检查清单

- [ ] 包含版本号（符合vX.Y格式）
- [ ] 包含创建日期和更新日期
- [ ] 包含更新人信息
- [ ] 包含文档状态（活跃/过期/草稿）
- [ ] 包含相关标签和分类信息

---

## 📈 质量改进建议

### 常见问题及解决方案

| 问题类型 | 具体表现 | 改进建议 | 预防措施 |
|---------|----------|----------|----------|
| 格式问题 | 标题层级混乱，列表格式不一致 | 使用模板，统一格式 | 建立格式检查机制 |
| 内容缺失 | 缺少概述或总结章节 | 使用完整模板结构 | 建立内容检查清单 |
| 逻辑混乱 | 内容组织不合理，重点不突出 | 重新组织内容结构 | 使用逻辑检查清单 |
| 链接失效 | 多个链接404错误 | 使用链接检查工具 | 建立定期链接检查 |
| 版本信息缺失 | 无版本记录，难以追溯 | 强制版本信息填写 | 建立版本管理规范 |

### 持续改进机制

#### 质量趋势跟踪

```python
#!/usr/bin/env python3
import json
import matplotlib.pyplot as plt
from datetime import datetime, timedelta

def plot_quality_trend():
    """绘制文档质量趋势图"""
    # 读取历史质量数据
    with open('docs/metrics/quality-history.json', 'r') as f:
        data = json.load(f)
    
    dates = [datetime.fromisoformat(item['timestamp']) for item in data]
    scores = [item['total'] for item in data]
    
    # 绘制趋势图
    plt.figure(figsize=(10, 6))
    plt.plot(dates, scores, marker='o')
    plt.title('文档质量趋势')
    plt.xlabel('日期')
    plt.ylabel('质量评分')
    plt.grid(True)
    
    # 保存图表
    plt.savefig('docs/metrics/quality-trend.png')
    plt.close()
    
    print("✅ 质量趋势图已生成")

if __name__ == '__main__':
    plot_quality_trend()
```

#### 团队质量提升

1. **定期分享**：每周分享高质量文档案例
2. **经验总结**：每月总结文档编写经验
3. **技能提升**：定期培训文档编写技能
4. **工具优化**：持续改进质量检查工具

---

## 🎯 质量检查工具

### 自动化检查脚本

#### check-metadata.py

```python
#!/usr/bin/env python3
import os
import json
import yaml
from datetime import datetime

def check_metadata(directory):
    """检查文档元信息完整性"""
    results = []
    
    for root, dirs, files in os.walk(directory):
        for file in files:
            if file.endswith('.md'):
                file_path = os.path.join(root, file)
                try:
                    with open(file_path, 'r', encoding='utf-8') as f:
                        content = f.read()
                    
                    # 检查必要元信息
                    metadata = extract_metadata(content)
                    missing_fields = []
                    
                    required_fields = ['版本', '创建日期', '最后更新', '更新人']
                    for field in required_fields:
                        if field not in metadata:
                            missing_fields.append(field)
                    
                    result = {
                        'file': file_path,
                        'missing_fields': missing_fields,
                        'score': 0.5 if len(missing_fields) == 0 else 0.3
                    }
                    results.append(result)
                    
                except Exception as e:
                    results.append({
                        'file': file_path,
                        'error': str(e),
                        'score': 0.0
                    })
    
    return results

def extract_metadata(content):
    """从文档内容提取元信息"""
    metadata = {}
    
    # 提取YAML前置内容
    if content.startswith('---'):
        try:
            yaml_content = content.split('---')[1].split('---')[0]
            metadata = yaml.safe_load(yaml_content)
            return metadata
        except:
            pass
    
    return metadata

if __name__ == '__main__':
    import sys
    directory = sys.argv[1] if len(sys.argv) > 1 else 'docs/'
    
    results = check_metadata(directory)
    
    # 输出检查结果
    print(json.dumps(results, ensure_ascii=False, indent=2))
    
    # 计算总体评分
    total_score = sum(item['score'] for item in results) / len(results) if results else 0.0
    print(f"METADATA_SCORE:{total_score:.2f}")
```

#### quick-quality-report.py

```python
#!/usr/bin/env python3
import sys
import json
from datetime import datetime

def generate_quality_report(format_errors, link_errors, metadata_errors):
    """生成快速质量报告"""
    report = {
        'timestamp': datetime.now().isoformat(),
        'format_errors': format_errors,
        'link_errors': link_errors,
        'metadata_errors': metadata_errors,
        'summary': {}
    }
    
    # 计算各维度得分
    format_score = 1.5 if format_errors == 0 else 0.6
    link_score = 0.75 if link_errors == 0 else 0.4
    metadata_score = 0.5 if metadata_errors == 0 else 0.3
    
    report['summary']['format_score'] = format_score
    report['summary']['link_score'] = link_score
    report['summary']['metadata_score'] = metadata_score
    
    # 输出报告
    print(json.dumps(report, ensure_ascii=False, indent=2))

if __name__ == '__main__':
    format_errors = int(sys.argv[1]) if len(sys.argv) > 1 else 0
    link_errors = int(sys.argv[2]) if len(sys.argv) > 2 else 0
    metadata_errors = int(sys.argv[3]) if len(sys.argv) > 3 else 0
    
    generate_quality_report(format_errors, link_errors, metadata_errors)
```

---

## 📞 联系和支持

**质量负责人**: [质量负责人姓名]  
**技术支持**: [技术支持联系方式]  
**问题反馈**: [反馈渠道]  

---

**创建日期**: 2025-12-08  
**最后更新**: 2025-12-08  
**更新人**: AI Assistant  
**下次审查**: 2025-12-15  
**适用范围**: 全团队文档  
**实施时间**: 2025-12-08开始