# AI代码审查标准提示词模板

## 📋 使用说明

将此提示词复制给任何AI助手(Claude, ChatGPT, Gemini等),即可完成代码审查任务。

---

## 🤖 完整提示词

```
你好,我需要你对我的项目进行Phase代码审查。请严格按照以下要求执行:

## 任务目标
对[Phase名称,如Phase2-可复用组件]的代码进行全面审查和测试分析,评估代码质量、规范符合性,并判断是否可以进入下一Phase开发。

## 重要原则 ⚠️
1. **直接代码分析**: 必须读取实际代码文件进行分析,禁止依赖总结文档或README
2. **客观评估**: 基于实际代码给出评分,不要主观臆断
3. **问题导向**: 重点找出实际存在的问题,不要泛泛而谈
4. **可执行建议**: 提供具体的修复建议和代码示例

## 审查范围
请审查以下内容:

### 1. 代码文件清单
读取并分析以下目录的所有代码文件:
- [列出需要审查的目录路径,例如:]
  - `app/src/main/java/com/empathy/ai/presentation/ui/component/`
  - `app/src/main/java/com/empathy/ai/presentation/theme/`

### 2. 参考规范文档
对比以下规范文档检查符合性:
- [列出规范文档路径,例如:]
  - `docs/01-架构设计/UI层/UI层开发规范.md`
  - `docs/01-架构设计/UI层/Phase2-可复用组件阶段.md`

## 审查维度

请从以下8个维度评估代码质量(每项满分50分):

1. **代码规范** (50分)
   - 命名规范
   - 代码格式
   - 注释完整性
   
2. **功能完整性** (50分)
   - 设计文档要求的功能是否全部实现
   - 有无缺失的组件或模块
   
3. **代码质量** (50分)
   - 代码可读性
   - 逻辑清晰度
   - 是否有代码坏味道
   
4. **文档注释** (50分)
   - KDoc/JavaDoc完整性
   - 参数说明清晰度
   
5. **预览函数** (50分,适用于UI组件)
   - @Preview函数覆盖率
   - 预览场景完整性
   
6. **主题适配** (50分,适用于UI组件)
   - 是否使用主题颜色
   - 深色模式支持
   
7. **可复用性** (50分)
   - 组件/模块是否高度可复用
   - 状态管理是否合理
   
8. **性能优化** (50分)
   - 是否有明显的性能问题
   - 是否使用了优化手段

## 输出要求

请生成以下文档(分别保存为独立的markdown文件):

### 文档1: 一页纸总结
文件名: `Phase[X]-审查总结-一页纸.md`

内容包括:
- 核心结论(质量评分、评级)
- 交付成果清单
- 关键问题列表(P0/P1/P2优先级)
- 代码亮点
- 下一Phase就绪度
- 行动建议

### 文档2: 详细审查报告
文件名: `Phase[X]-代码审查报告.md`

内容包括:
- 执行摘要
- 组件/模块逐个评分(包含代码示例)
- 详细问题清单(带具体位置和修复建议)
- 最佳实践总结
- 规范符合性检查表
- 下一Phase依赖检查矩阵

### 文档3: 问题修复清单
文件名: `Phase[X]-问题修复清单.md`

内容包括:
- P0/P1/P2问题分类
- 每个问题的修复建议(带代码示例)
- 预计修复时间
- 优先级排序

## 评分标准

### 质量评级对照表
- A+ (95-100分): 优秀,可直接进入下一Phase
- A  (90-94分): 良好,小幅优化后可进入下一Phase
- B+ (85-89分): 合格,需修复P1问题后进入下一Phase
- B  (80-84分): 基本合格,需修复P0/P1问题
- C  (70-79分): 不合格,需大幅改进
- D  (<70分): 严重不合格,需重写

### 下一Phase就绪度判断
- 90-100%: 可立即开始
- 80-89%: 补充少量内容后可开始
- 70-79%: 需修复关键问题
- <70%: 暂不具备条件

## 输出格式要求

1. 使用Markdown格式
2. 使用表格展示数据
3. 使用emoji增强可读性(✅❌⚠️🔥等)
4. 代码示例使用代码块,标注语言
5. 评分使用星级(⭐)表示

## 示例输出片段

### 组件评分示例:
```markdown
#### ✅ PrimaryButton.kt - 优秀 (5/5)

**亮点**:
1. ✅ **ButtonSize枚举设计优秀**: 封装了尺寸相关的所有属性
2. ✅ **加载状态完善**: 显示CircularProgressIndicator并自动禁用
3. ✅ **7个预览函数**: 覆盖所有使用场景

**代码示例**:
\`\`\`kotlin
enum class ButtonSize(
    val contentPadding: PaddingValues,
    val iconSize: Dp,
    val textStyle: @Composable () -> TextStyle
) {
    Small(...), Medium(...), Large(...)
}
\`\`\`

**评分**: ⭐⭐⭐⭐⭐ (5/5)
```

### 问题清单示例:
```markdown
#### P1-1: MessageBubble组件缺失 ⚠️
\`\`\`yaml
位置: 应该在 component/ 目录下
问题: Phase2设计文档要求的MessageBubble.kt未实现
影响: 阻塞ChatScreen开发
优先级: 🔥 高
预计修复时间: 2-3小时
\`\`\`

**建议修复**:
\`\`\`kotlin
@Composable
fun MessageBubble(
    message: String,
    isUser: Boolean,
    modifier: Modifier = Modifier
) {
    // 实现代码...
}
\`\`\`
```

## 开始审查

现在请开始审查,严格按照上述要求执行。记住:
1. ⚠️ 必须读取实际代码文件
2. ⚠️ 不要依赖总结文档
3. ⚠️ 给出具体的代码示例和修复建议
4. ⚠️ 评分要客观,基于实际代码质量

祝审查顺利!
```

---

## 🎯 快速使用变体

### 变体1: 简化版(适合快速审查)

```
请审查我的[Phase名称]代码:

1. 读取这些文件: [列出目录]
2. 对比这些规范: [列出规范文档]
3. 评估8个维度: 代码规范、功能完整性、代码质量、文档、预览、主题、可复用性、性能
4. 生成一页纸总结,包含: 评分(满分400)、问题清单(P0/P1/P2)、下一Phase就绪度

重要: 必须读取实际代码,不要依赖总结文档。
```

### 变体2: 聚焦问题版(适合已知有问题时)

```
我的[Phase名称]代码可能存在问题,请帮我:

1. 读取[列出目录]下的所有代码
2. 找出所有违反[规范文档路径]的地方
3. 按P0/P1/P2分类问题
4. 为每个问题提供:
   - 具体位置(文件+行号)
   - 问题描述
   - 修复建议(带代码示例)
   - 预计修复时间

必须基于实际代码分析,给出可执行的修复方案。
```

### 变体3: 就绪度评估版(适合Phase过渡时)

```
我们即将从Phase[X]进入Phase[Y],请评估就绪度:

1. Phase[X]代码位置: [列出目录]
2. Phase[Y]依赖清单: [列出依赖的组件/模块]

请检查:
- Phase[X]的交付物是否全部完成
- Phase[Y]所需的依赖是否都已准备好
- 有哪些阻塞问题

输出:
- 就绪度百分比
- 阻塞问题清单
- 补充建议
- 预计补充时间

基于实际代码分析,不要看总结文档。
```

---

## 💡 提示词优化技巧

### 1. 明确输出格式
```
请用表格列出每个组件的评分,格式:
| 组件名 | 代码行数 | 质量评分 | 主要问题 |
```

### 2. 要求具体示例
```
对于发现的每个问题,必须提供:
1. 问题代码片段(带行号)
2. 修复后的代码示例
3. 为什么这样修复
```

### 3. 限制分析范围
```
只审查以下类型的文件:
- Kotlin文件: *.kt
- 主题文件: theme/
- 不要分析测试文件
```

### 4. 指定评分权重
```
评分权重:
- 代码规范: 20%
- 功能完整性: 30%
- 代码质量: 25%
- 文档注释: 15%
- 性能优化: 10%
```

---

## ⚙️ 针对不同AI的调整

### Claude (Anthropic)
- ✅ 最适合: 深度代码分析、长文档生成
- 提示词无需调整,按标准模板使用

### ChatGPT (OpenAI)
- ⚠️ 注意: 