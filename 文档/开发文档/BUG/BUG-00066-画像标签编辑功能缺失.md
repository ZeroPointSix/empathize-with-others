# BUG-00066：画像标签编辑功能缺失

## 问题概述

【问题分类】功能缺失

【优先级】P3-较低

【发现版本】未知

【发现时间】2025-01-09

---

## 问题描述

### 现象描述

在联系人画像模块中，用户添加标签后没有编辑功能。一旦标签被添加，就无法进行修改。这影响了用户对标签的管理能力。

### 问题表现

1. **添加后不可修改**：用户添加标签后，只能查看，无法编辑标签内容
2. **删除困难**：没有提供删除已添加标签的入口
3. **无重命名选项**：无法对已添加的标签进行重命名

### 期望行为

用户应该能够对已添加的画像标签进行以下操作：

1. **编辑标签内容**：
   - 修改标签的文本
   - 调整标签的类型或分类

2. **删除标签**：
   - 提供删除入口
   - 支持删除单个标签
   - 支持批量删除（如需要）

3. **管理标签生命周期**：
   - 添加新标签
   - 编辑已有标签
   - 删除不需要的标签

### 实际行为

- 用户添加标签后，标签被锁定
- 没有编辑按钮或菜单
- 无法删除不需要的标签

---

## 问题分析

### 影响范围

- **功能完整性**：画像标签管理功能不完整
- **用户体验**：用户无法维护标签的准确性
- **数据管理**：标签数据会随时间变得杂乱无章

### 涉及模块

- 联系人画像模块
- 标签管理功能
- 标签数据存储

---

## 测试步骤

1. 进入某个联系人的详情页面
2. 切换到「画像」标签
3. 找到标签管理区域
4. 添加一个新的标签
5. 尝试找到编辑已添加标签的方法
   - 点击标签
   - 长按标签
   - 右键菜单（如果有）
   - 查看是否有编辑图标
6. 尝试找到删除已添加标签的方法
7. 记录发现的结果

---

## 实现方案

### 功能需求

#### 1. 编辑功能

- **入口设计**：
  - 点击标签进入编辑模式
  - 长按弹出编辑菜单
  - 添加编辑图标按钮

- **编辑内容**：
  - 标签文本编辑
  - 标签类型调整

- **保存逻辑**：
  - 保存修改后的数据
  - 更新界面显示

#### 2. 删除功能

- **入口设计**：
  - 长按弹出删除选项
  - 编辑模式中的删除按钮
  - 滑动删除（如适用）

- **删除确认**：
  - 二次确认弹窗
  - 防止误删

- **删除逻辑**：
  - 从数据库删除
  - 更新界面显示
  - 同步更新相关统计

#### 3. 交互优化

- 编辑时的视觉反馈
- 删除时的动画效果
- 空状态的友好提示

---

## 相关问题

- 来源：BUG-00059 人工测试问题
- 相关模块：联系人画像
- 相关功能：标签管理

---

## 备注

这是一个**功能完善**需求，需要为画像标签添加完整的编辑能力。建议：
1. 先设计标签编辑和删除的 UI 方案
2. 实现基础的单个标签编辑功能
3. 实现删除功能
4. 优化标签管理的整体体验
5. 考虑与标签库功能的整合（如适用）
