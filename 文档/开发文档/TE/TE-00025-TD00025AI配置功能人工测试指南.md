# TE-00025: TD-00025 AI配置功能完善 - 人工测试指南

**测试日期**: 2026-01-03
**任务编号**: TD-00025
**测试人员**: 待定
**版本**: v1.0

---

## 1. 测试概述

### 1.1 测试目的
对TD-00025 AI配置功能完善的全部功能进行人工测试验证，确保核心功能正常运行，满足验收标准。

### 1.2 测试范围
| 功能模块 | 状态 | 优先级 |
|----------|------|--------|
| 高级选项UI（Temperature/Token） | 待测试 | P0 |
| 模型拖拽排序 | 待测试 | P0 |
| 网络代理配置 | 待测试 | P0 |
| 用量统计 | 待测试 | P0 |
| 数据库迁移 | 待测试 | P1 |

### 1.3 测试环境
- **设备**: Android手机/模拟器
- **系统版本**: Android 8.0+
- **应用版本**: 最新Debug版本
- **网络环境**: 稳定的互联网连接

---

## 2. 测试用例

### 2.1 高级选项UI测试

#### TC-AI-001: Temperature滑块功能
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证Temperature滑块的各项功能 |
| **前置条件** | 打开"添加服务商"或"编辑服务商"页面 |
| **操作步骤** | 1. 找到"Temperature"滑块组件<br>2. 向左拖动至0<br>3. 向右拖动至2<br>4. 观察数值变化 |
| **预期结果** | ✅ 滑块可正常拖动<br>✅ 范围0-2，步进0.1<br>✅ 实时显示当前值 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-002: Temperature边界值测试
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证Temperature边界值保护 |
| **前置条件** | 打开"Temperature"滑块 |
| **操作步骤** | 1. 尝试输入小于0的值<br>2. 尝试输入大于2的值 |
| **预期结果** | ✅ 自动修正为0<br>✅ 自动修正为2 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-003: Token限制输入功能
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证Token限制输入框功能 |
| **前置条件** | 打开"添加服务商"页面 |
| **操作步骤** | 1. 找到"Max Tokens"输入框<br>2. 输入正整数（如4096）<br>3. 点击快捷选项（1024/2048/4096等） |
| **预期结果** | ✅ 输入框可正常输入<br>✅ 快捷选项可正确设置值<br>✅ 输入验证（拒绝负数） |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-004: 高级选项设置持久化
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证高级选项重启后保持 |
| **前置条件** | 设置服务商Temperature和Token |
| **操作步骤** | 1. 设置Temperature=1.5<br>2. 设置Max Tokens=8192<br>3. 保存并重启应用<br>4. 重新打开该服务商编辑页面 |
| **预期结果** | ✅ 设置值保持不变 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

---

### 2.2 模型拖拽排序测试

#### TC-AI-005: 拖拽触发
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证长按拖拽触发 |
| **前置条件** | 添加至少2个模型到服务商 |
| **操作步骤** | 1. 进入添加/编辑服务商页面<br>2. 找到模型列表<br>3. 长按某个模型项 |
| **预期结果** | ✅ 长按可触发拖拽模式<br>✅ 拖拽项放大1.05倍<br>✅ 显示阴影效果 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-006: 拖拽视觉效果
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证拖拽视觉反馈 |
| **前置条件** | 已触发拖拽模式 |
| **操作步骤** | 1. 拖动模型项到新位置<br>2. 观察其他项移动动画 |
| **预期结果** | ✅ 拖拽项放大<br>✅ 其他项自动腾出空间<br>✅ 平滑动画过渡<br>✅ 显示三个蓝色横杠拖拽手柄 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-007: 拖拽排序保存
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证排序结果保存 |
| **前置条件** | 拖拽排序完成 |
| **操作步骤** | 1. 拖拽调整模型顺序<br>2. 保存服务商配置<br>3. 重新打开编辑页面 |
| **预期结果** | ✅ 排序结果正确保存<br>✅ 重新打开顺序保持 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-008: 拖拽性能测试
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证拖拽流畅度 |
| **前置条件** | 添加多个模型（≥5个） |
| **操作步骤** | 1. 快速拖动模型项<br>2. 观察帧率和卡顿 |
| **预期结果** | ✅ 拖拽过程流畅<br>✅ 帧率≥30fps |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

---

### 2.3 网络代理配置测试

#### TC-AI-009: 代理设置对话框打开
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证代理设置对话框正常打开 |
| **前置条件** | 在AI配置页面 |
| **操作步骤** | 1. 点击"代理设置"按钮<br>2. 观察对话框显示 |
| **预期结果** | ✅ 对话框正常打开<br>✅ iOS风格界面 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-010: 代理类型选择
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证代理类型选择 |
| **前置条件** | 打开代理设置对话框 |
| **操作步骤** | 1. 找到代理类型选择器<br>2. 切换HTTP/HTTPS/SOCKS4/SOCKS5 |
| **预期结果** | ✅ 支持所有代理类型<br>✅ 切换正常 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-011: 代理地址和端口输入
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证地址端口输入 |
| **前置条件** | 打开代理设置对话框 |
| **操作步骤** | 1. 输入服务器地址（如127.0.0.1）<br>2. 输入端口（如1080） |
| **预期结果** | ✅ 地址输入正常<br>✅ 端口输入正常<br>✅ 格式验证 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-012: 代理认证功能
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证代理认证功能 |
| **前置条件** | 打开代理设置对话框 |
| **操作步骤** | 1. 启用认证开关<br>2. 输入用户名和密码<br>3. 保存配置 |
| **预期结果** | ✅ 认证区域显示<br>✅ 用户名密码可输入<br>✅ 配置保存成功 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-013: 代理连接测试
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证代理测试功能 |
| **前置条件** | 配置有效的代理服务器 |
| **操作步骤** | 1. 配置代理地址和端口<br>2. 点击"测试连接"按钮<br>3. 观察测试结果 |
| **预期结果** | ✅ 测试按钮可用<br>✅ 显示测试状态（加载中/成功/失败）<br>✅ 成功时显示延迟时间<br>✅ 失败时显示错误信息 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-014: 代理配置生效
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证代理配置在API请求中生效 |
| **前置条件** | 配置有效代理并启用 |
| **操作步骤** | 1. 启用代理<br>2. 进行AI对话<br>3. 检查请求是否经过代理 |
| **预期结果** | ✅ 代理配置生效<br>✅ AI请求通过代理 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

---

### 2.4 用量统计测试

#### TC-AI-015: 用量统计页面访问
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证用量统计页面正常访问 |
| **前置条件** | 完成至少一次AI API调用 |
| **操作步骤** | 1. 进入AI配置页面<br>2. 点击"用量统计"入口<br>3. 观察页面显示 |
| **预期结果** | ✅ 页面正常打开<br>✅ 显示用量概览 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-016: 用量概览显示
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证用量概览显示正确 |
| **前置条件** | 用量统计页面已打开 |
| **操作步骤** | 1. 查看概览区域<br>2. 观察总请求数、Token数、成功率 |
| **预期结果** | ✅ 显示总请求数<br>✅ 显示总Token数<br>✅ 显示成功率百分比 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-017: 按服务商统计
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证按服务商分类统计 |
| **前置条件** | 多个服务商有调用记录 |
| **操作步骤** | 1. 在用量统计页面<br>2. 选择"按服务商"视图<br>3. 查看各服务商统计 |
| **预期结果** | ✅ 正确显示各服务商统计<br>✅ 数据分类正确 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-018: 按模型统计
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证按模型分类统计 |
| **前置条件** | 多个模型有调用记录 |
| **操作步骤** | 1. 在用量统计页面<br>2. 选择"按模型"视图<br>3. 查看各模型统计 |
| **预期结果** | ✅ 正确显示各模型统计<br>✅ 数据分类正确 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-019: 时间范围筛选
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证今日/本周/本月筛选 |
| **前置条件** | 有历史调用记录 |
| **操作步骤** | 1. 在用量统计页面<br>2. 切换今日/本周/本月<br>3. 观察数据变化 |
| **预期结果** | ✅ 切换正常<br>✅ 统计数据正确筛选 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-020: 清除历史数据
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证清除功能 |
| **前置条件** | 有用量数据 |
| **操作步骤** | 1. 进入用量统计页面<br>2. 找到清除功能入口<br>3. 确认清除<br>4. 验证数据已清除 |
| **预期结果** | ✅ 清除功能可用<br>✅ 清除后数据为0<br>✅ 有确认提示 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-021: 导出用量数据
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证导出功能 |
| **前置条件** | 有用量数据 |
| **操作步骤** | 1. 进入用量统计页面<br>2. 点击导出按钮<br>3. 选择保存位置<br>4. 验证导出文件 |
| **预期结果** | ✅ 导出按钮可用<br>✅ 导出JSON格式<br>✅ 文件包含完整数据 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-022: 实时更新验证
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证API调用后统计实时更新 |
| **前置条件** | 用量统计页面已打开 |
| **操作步骤** | 1. 进行一次AI对话<br>2. 返回用量统计页面<br>3. 观察数据变化 |
| **预期结果** | ✅ 统计数据实时更新<br>✅ 新请求计入统计 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

---

### 2.5 数据库迁移测试

#### TC-AI-023: 数据库升级验证
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证数据库从v11迁移到v12 |
| **前置条件** | 安装旧版本应用后升级 |
| **操作步骤** | 1. 安装旧版本APK<br>2. 使用应用创建数据<br>3. 安装新版本APK<br>4. 打开应用 |
| **预期结果** | ✅ 数据库迁移成功<br>✅ 原有数据保留<br>✅ 新字段正常工作 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

#### TC-AI-024: 用量记录存储
| 项目 | 内容 |
|------|------|
| **测试目的** | 验证用量记录正确存储 |
| **前置条件** | 进行AI API调用 |
| **操作步骤** | 1. 进行多次AI对话<br>2. 检查数据库中的记录 |
| **预期结果** | ✅ 记录正确存储<br>✅ 包含所有必要字段 |
| **测试结果** | ☐ 通过 ☐ 未通过 ☐ 待测试 |
| **备注** | |

---

## 3. 测试结果汇总

| 测试分类 | 用例数 | 通过 | 未通过 | 待测试 | 通过率 |
|----------|--------|------|--------|--------|--------|
| 高级选项UI | 4 | 0 | 0 | 4 | 0% |
| 模型拖拽排序 | 4 | 0 | 0 | 4 | 0% |
| 网络代理配置 | 6 | 0 | 0 | 6 | 0% |
| 用量统计 | 8 | 0 | 0 | 8 | 0% |
| 数据库迁移 | 2 | 0 | 0 | 2 | 0% |
| **总计** | **24** | **0** | **0** | **24** | **0%** |

---

## 4. 问题记录

| 编号 | 测试用例 | 问题描述 | 严重程度 | 状态 |
|------|----------|----------|----------|------|
| | | | | |

---

## 5. 测试总结

### 5.1 测试执行情况
- **测试开始时间**: 
- **测试结束时间**: 
- **总测试时间**: 
- **执行人员**: 

### 5.2 遗留问题
| 问题ID | 描述 | 处理方案 | 负责人 |
|--------|------|----------|--------|
| | | | |

### 5.3 测试结论
☐ 所有测试通过，TD-00025功能验收通过
☐ 存在轻微问题，建议修复后重新测试
☐ 存在严重问题，需要返工

---

## 6. 附录

### 6.1 相关文档
- [TD-00025任务清单](../TD/TD-00025-AI配置功能完善任务清单.md)
- [PRD-00025需求文档](../PRD/PRD-00025-AI配置功能完善.md)
- [TDD-00025技术设计文档](../TDD/TDD-00025-AI配置功能完善技术设计.md)

### 6.2 测试数据
```
```

### 6.3 环境信息
```
设备型号:
系统版本:
应用版本:
构建版本:
```

---

**测试人员签名**: ________________

**日期**: ________________
