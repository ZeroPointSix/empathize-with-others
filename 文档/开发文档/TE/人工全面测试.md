# 共情AI助手 - 人工全面测试指南

> **版本**: v1.0  
> **更新日期**: 2026-01-07  
> **测试目标**: 基于实际UI界面的完整功能测试  
> **测试类型**: 手动黑盒测试

---

## 📋 测试说明

本测试指南基于项目的**实际UI代码**编写，每一步都明确告诉测试人员应该点击哪里、看到什么、如何操作。

### 测试环境要求

- **Android版本**: Android 7.0 (API 24) 及以上
- **测试设备**: 真机或模拟器
- **网络环境**: 需要联网（AI功能需要调用API）
- **权限要求**: 悬浮窗权限（测试悬浮窗功能时）

### 测试前准备

1. **安装APK**: 安装最新的Debug或Release版本APK
2. **清除数据**: 首次测试建议清除应用数据，确保干净环境
3. **配置AI服务商**: 准备好OpenAI或DeepSeek的API密钥

---

## 🎯 测试模块清单

| 模块 | 功能点数量 | 优先级 | 状态 |
|------|-----------|--------|------|
| 1. 首次启动与引导 | 3 | P0 | ⬜ 待测试 |
| 2. 联系人管理 | 8 | P0 | ⬜ 待测试 |
| 3. AI配置 | 7 | P0 | ⬜ 待测试 |
| 4. AI军师对话 | 10 | P0 | ⬜ 待测试 |
| 5. 联系人详情（四标签页） | 12 | P0 | ⬜ 待测试 |
| 6. 悬浮窗功能 | 6 | P1 | ⬜ 待测试 |
| 7. 设置功能 | 8 | P1 | ⬜ 待测试 |
| 8. 提示词管理 | 5 | P2 | ⬜ 待测试 |

---

## 📱 模块1: 首次启动与引导

### 测试点 1.1: 应用首次启动

**测试步骤**:
1. 打开应用
2. 观察启动画面

**预期结果**:
- 显示应用Logo和名称
- 进入联系人列表页面（空状态）

**实际结果**: _______________

---

### 测试点 1.2: 空状态提示

**测试步骤**:
1. 在联系人列表空状态页面
2. 观察页面内容

**预期结果**:
- 页面顶部显示"联系人"大标题（34sp，iOS风格）
- 右上角有搜索图标🔍
- 中间显示空状态提示："还没有联系人"
- 下方有"添加联系人"按钮
- 底部有三个Tab：联系人、AI军师、设置

**实际结果**: _______________

---


### 测试点 1.3: 底部导航栏

**测试步骤**:
1. 点击底部"AI军师"Tab
2. 点击底部"设置"Tab
3. 点击底部"联系人"Tab

**预期结果**:
- 点击AI军师：跳转到联系人选择页面（因为没有上次联系人记录）
- 点击设置：进入设置页面
- 点击联系人：返回联系人列表
- 当前Tab高亮显示（蓝色）

**实际结果**: _______________

---

## 📱 模块2: 联系人管理

### 测试点 2.1: 新建联系人 - 打开页面

**测试步骤**:
1. 在联系人列表页面
2. 点击右下角的"+"悬浮按钮

**预期结果**:
- 进入"新建联系人"页面（iOS风格）
- 顶部导航栏显示：左侧"取消"、中间"新建联系人"、右侧"完成"（灰色不可点击）
- 页面中间有圆形头像占位符
- 下方有白色卡片，包含4个输入框：
  - 姓名（必填）
  - 目标（选填）
  - 关系（选填）
  - 备注（选填）
- 底部有"添加第一条事实"按钮

**实际结果**: _______________

---

### 测试点 2.2: 新建联系人 - 填写基本信息

**测试步骤**:
1. 在"新建联系人"页面
2. 点击"姓名"输入框，输入"张三"
3. 点击"目标"输入框，输入"建立良好的合作关系"
4. 点击"关系"输入框，输入"同事"
5. 点击"备注"输入框，输入"产品经理"

**预期结果**:
- 输入框正常接收输入
- 输入姓名后，右上角"完成"按钮变为蓝色可点击状态
- 输入内容实时显示

**实际结果**: _______________

---

### 测试点 2.3: 新建联系人 - 添加事实

**测试步骤**:
1. 在"新建联系人"页面（已填写姓名）
2. 点击"添加第一条事实"按钮
3. 在弹出的底部弹窗中：
   - 点击"兴趣爱好"类型（绿色胶囊）
   - 在"事实内容"输入框输入"喜欢喝咖啡"
   - 点击"添加"按钮
4. 重复步骤2-3，添加第二条事实：
   - 类型选择"禁忌话题"（红色胶囊）
   - 内容输入"不要提工作压力"

**预期结果**:
- 点击按钮后，从底部滑出iOS风格弹窗
- 弹窗顶部有"添加事实"标题和关闭按钮
- 显示彩色胶囊类型选择器（兴趣爱好、禁忌话题等）
- 点击"添加"后，弹窗关闭
- 页面上显示"已添加的事实"卡片
- 卡片中列出两条事实，每条显示类型和内容
- 每条事实右侧有删除按钮（×图标）
- "添加第一条事实"按钮文字变为"添加更多事实"

**实际结果**: _______________

---

### 测试点 2.4: 新建联系人 - 保存

**测试步骤**:
1. 在"新建联系人"页面（已填写信息和事实）
2. 点击右上角"完成"按钮

**预期结果**:
- 页面关闭，返回联系人列表
- 联系人列表中显示新建的"张三"
- 显示为白色圆角卡片
- 卡片内容：
  - 左侧：圆形头像占位符
  - 中间：姓名"张三"（大字）
  - 下方：目标"建立良好的合作关系"（小字灰色）
  - 右侧：右箭头>

**实际结果**: _______________

---

### 测试点 2.5: 联系人列表 - 查看详情

**测试步骤**:
1. 在联系人列表页面
2. 点击"张三"的卡片

**预期结果**:
- 进入联系人详情页面（四标签页UI）
- 顶部显示情感化背景（根据关系分数显示渐变色）
- 显示四个Tab：概览、事实流、画像、资料库
- 默认显示"概览"Tab
- 概览页面显示：
  - 左上角返回按钮
  - 圆形头像
  - 姓名"张三"
  - 目标"建立良好的合作关系"
  - 关系分数（默认50分）
  - "相识天数"卡片
  - "最新事实"卡片
  - "热门标签"卡片

**实际结果**: _______________

---

### 测试点 2.6: 联系人详情 - 事实流Tab

**测试步骤**:
1. 在联系人详情页面
2. 点击"事实流"Tab
3. 观察页面内容

**预期结果**:
- 切换到事实流Tab
- 顶部显示视图切换器：时间线/列表
- 显示过滤器按钮：对话、事实、总结、里程碑
- 显示之前添加的两条事实：
  - "喜欢喝咖啡"（兴趣爱好）
  - "不要提工作压力"（禁忌话题）
- 右下角有"+"悬浮按钮（添加事实）

**实际结果**: _______________

---

### 测试点 2.7: 联系人详情 - 画像Tab

**测试步骤**:
1. 在联系人详情页面
2. 点击"画像"Tab
3. 观察页面内容

**预期结果**:
- 切换到画像Tab
- 按类型分组显示事实：
  - "兴趣爱好"分组：显示"喜欢喝咖啡"
  - "禁忌话题"分组：显示"不要提工作压力"
- 每条事实显示为圆角卡片
- 点击事实可以编辑
- 长按事实可以删除

**实际结果**: _______________

---

### 测试点 2.8: 联系人详情 - 资料库Tab

**测试步骤**:
1. 在联系人详情页面
2. 点击"资料库"Tab
3. 观察页面内容

**预期结果**:
- 切换到资料库Tab
- 显示数据源列表（网格布局）：
  - 聊天记录（图标：💬，数量：0）
  - AI总结（图标：📝，数量：0）
  - 图片（图标：🖼️，状态：不可用）
  - 语音消息（图标：🎤，状态：不可用）
  - 视频（图标：🎬，状态：不可用）
  - 文件（图标：📁，状态：不可用）

**实际结果**: _______________

---

## 📱 模块3: AI配置

### 测试点 3.1: 进入AI配置页面

**测试步骤**:
1. 点击底部"设置"Tab
2. 在设置页面，点击"AI配置"分组下的"AI服务商"项

**预期结果**:
- 进入"AI配置"页面（iOS风格）
- 顶部导航栏：左侧返回按钮、中间"AI配置"标题、右侧"+"按钮
- 显示搜索框（占位符："搜索服务商"）
- 如果没有配置服务商，显示空状态："还没有配置 AI 服务商\n点击右上角按钮添加"

**实际结果**: _______________

---

### 测试点 3.2: 添加AI服务商 - 打开页面

**测试步骤**:
1. 在AI配置页面
2. 点击右上角"+"按钮

**预期结果**:
- 进入"添加服务商"页面（iOS风格）
- 顶部导航栏：左侧"取消"、中间"添加服务商"、右侧"保存"（灰色不可点击）
- 显示表单卡片，包含输入框：
  - 服务商名称（必填）
  - Base URL（必填）
  - API密钥（必填，密码框）
- 显示"模型配置"卡片（空状态）
- 底部有"获取模型列表"按钮

**实际结果**: _______________

---


### 测试点 3.3: 添加AI服务商 - 填写信息（DeepSeek示例）

**测试步骤**:
1. 在"添加服务商"页面
2. 填写以下信息：
   - 服务商名称：输入"DeepSeek"
   - Base URL：输入"https://api.deepseek.com/v1"
   - API密钥：输入你的DeepSeek API密钥（sk-开头）
3. 点击"获取模型列表"按钮

**预期结果**:
- 输入框正常接收输入
- API密钥显示为密码格式（圆点）
- 点击"获取模型列表"后：
  - 按钮显示加载状态
  - 成功后，"模型配置"卡片显示获取到的模型列表
  - 每个模型显示为一行，包含：模型ID、显示名称、单选按钮
  - 第一个模型自动选中为默认模型
- 右上角"保存"按钮变为蓝色可点击状态

**实际结果**: _______________

---

### 测试点 3.4: 添加AI服务商 - 保存

**测试步骤**:
1. 在"添加服务商"页面（已填写完整信息）
2. 点击右上角"保存"按钮

**预期结果**:
- 页面关闭，返回AI配置页面
- 显示"推理引擎"分组
- 分组下显示刚添加的"DeepSeek"服务商卡片：
  - 左侧：服务商名称"DeepSeek"（大字）
  - 下方：默认模型名称（小字灰色）
  - 右侧：蓝色"默认"标签
  - 卡片可以左滑显示"编辑"和"删除"按钮
- 显示"通用选项"分组：
  - 网络代理（未设置）
  - 用量统计
- 显示"高级设置"分组：
  - 请求超时（30秒）

**实际结果**: _______________

---

### 测试点 3.5: AI服务商 - 测试连接

**测试步骤**:
1. 在AI配置页面
2. 点击"DeepSeek"服务商卡片
3. 观察是否切换为默认服务商

**预期结果**:
- 点击后，该服务商卡片右侧显示蓝色"默认"标签
- 如果之前有其他默认服务商，其"默认"标签消失

**实际结果**: _______________

---

### 测试点 3.6: AI服务商 - 编辑

**测试步骤**:
1. 在AI配置页面
2. 在"DeepSeek"服务商卡片上向左滑动
3. 点击"编辑"按钮
4. 修改服务商名称为"DeepSeek-V3"
5. 点击"保存"

**预期结果**:
- 左滑后显示"编辑"（蓝色）和"删除"（红色）按钮
- 点击"编辑"进入编辑页面
- 编辑页面标题为"编辑服务商"
- 表单预填充原有数据
- 保存后返回AI配置页面
- 服务商名称更新为"DeepSeek-V3"

**实际结果**: _______________

---

### 测试点 3.7: AI服务商 - 删除

**测试步骤**:
1. 在AI配置页面
2. 在"DeepSeek-V3"服务商卡片上向左滑动
3. 点击"删除"按钮
4. 在确认对话框中点击"确定删除"

**预期结果**:
- 左滑后显示"删除"按钮（红色）
- 点击"删除"弹出iOS风格确认对话框：
  - 标题："确认删除"
  - 内容："确定要删除这个服务商吗？此操作无法撤销。"
  - 按钮："取消"（灰色）、"确定删除"（红色）
- 点击"确定删除"后：
  - 对话框关闭
  - 服务商卡片从列表中移除
  - 如果没有其他服务商，显示空状态

**实际结果**: _______________

---

## 📱 模块4: AI军师对话

### 测试点 4.1: 首次进入AI军师 - 联系人选择

**测试步骤**:
1. 确保已添加至少一个联系人（如"张三"）
2. 点击底部"AI军师"Tab

**预期结果**:
- 因为是首次使用，进入"联系人选择"页面
- 顶部导航栏：左侧返回按钮、中间"选择联系人"标题
- 显示联系人列表（与联系人列表页面样式相同）
- 每个联系人显示为白色圆角卡片

**实际结果**: _______________

---

### 测试点 4.2: 选择联系人进入对话

**测试步骤**:
1. 在联系人选择页面
2. 点击"张三"的卡片

**预期结果**:
- 进入AI军师对话页面
- 顶部导航栏（iOS风格）：
  - 左侧：☰ 菜单图标（会话历史）
  - 中间：❤️图标 + "心语助手"标题
  - 下方：小字"与 张三 的对话"
  - 右侧：👤 联系人图标（切换联系人）
- 中间显示空状态：
  - AI头像（紫色圆形，心理学图标）
  - 提示文字："您好！我是您的AI军师，有什么可以帮您的吗？"
- 底部输入栏：
  - 左侧：圆角输入框（占位符："输入你的问题..."）
  - 右侧：圆形发送按钮（灰色不可点击）

**实际结果**: _______________

---

### 测试点 4.3: 发送第一条消息

**测试步骤**:
1. 在AI军师对话页面
2. 在输入框输入："你好，我想了解一下张三的性格特点"
3. 点击发送按钮

**预期结果**:
- 输入文字后，发送按钮变为蓝色可点击状态
- 点击发送后：
  - 输入框清空
  - 用户消息显示在右侧：
    - 蓝色圆角气泡
    - 白色文字
    - 右侧有用户头像（蓝色圆形，人物图标）
  - AI开始回复：
    - 左侧显示AI头像
    - 显示"思考中"状态和计时（如"思考中: 1.2s"）
    - 流式显示AI回复内容（打字机效果）
    - 右下角显示红色"停止"按钮
  - 回复完成后：
    - AI消息显示在左侧白色圆角气泡中
    - 支持Markdown格式渲染
    - 下方显示"重新生成"按钮

**实际结果**: _______________

---

### 测试点 4.4: 停止AI生成

**测试步骤**:
1. 在AI军师对话页面
2. 发送一条消息："请详细分析张三的性格"
3. 在AI回复过程中，点击右下角红色"停止"按钮

**预期结果**:
- 点击"停止"后：
  - AI立即停止生成
  - 已生成的内容保留在气泡中
  - 消息状态标记为"已取消"
  - 显示"重试"和"删除"按钮

**实际结果**: _______________

---

### 测试点 4.5: 重新生成AI回复

**测试步骤**:
1. 在AI军师对话页面（已有AI回复）
2. 点击最后一条AI消息下方的"重新生成"按钮

**预期结果**:
- 点击后：
  - 原AI消息被删除
  - AI重新开始生成回复
  - 显示"思考中"状态和流式内容
  - 可以再次点击"停止"按钮

**实际结果**: _______________

---

### 测试点 4.6: 多轮对话

**测试步骤**:
1. 在AI军师对话页面
2. 依次发送以下消息：
   - "张三喜欢什么？"
   - "我应该如何和他相处？"
   - "有什么需要注意的吗？"

**预期结果**:
- 每条消息都能正常发送和接收回复
- 对话历史保持在页面上
- AI回复考虑上下文（多轮对话）
- 页面自动滚动到最新消息
- 用户消息在右侧（蓝色），AI消息在左侧（白色）

**实际结果**: _______________

---

### 测试点 4.7: 切换联系人

**测试步骤**:
1. 在AI军师对话页面（已有对话历史）
2. 点击右上角👤联系人图标
3. 在联系人选择页面选择另一个联系人（如需要先创建）
4. 观察页面变化

**预期结果**:
- 点击👤图标后，进入联系人选择页面
- 选择新联系人后：
  - 返回对话页面
  - 导航栏标题更新为"与 [新联系人] 的对话"
  - 对话历史清空（显示新会话的空状态）
  - 输入框可以正常使用

**实际结果**: _______________

---

### 测试点 4.8: 查看会话历史

**测试步骤**:
1. 在AI军师对话页面
2. 点击左上角☰菜单图标

**预期结果**:
- 进入"会话历史"页面
- 顶部导航栏：左侧返回按钮、中间"会话历史"标题、右侧"+"按钮（新建会话）
- 显示当前联系人的所有会话列表：
  - 每个会话显示为卡片
  - 卡片内容：会话标题、最后更新时间、消息数量
  - 当前会话高亮显示
- 如果没有历史会话，显示空状态

**实际结果**: _______________

---

### 测试点 4.9: 新建会话

**测试步骤**:
1. 在会话历史页面
2. 点击右上角"+"按钮

**预期结果**:
- 返回对话页面
- 对话历史清空（新会话）
- 显示空状态提示
- 可以开始新的对话

**实际结果**: _______________

---

### 测试点 4.10: 切换会话

**测试步骤**:
1. 在会话历史页面（有多个会话）
2. 点击一个历史会话卡片

**预期结果**:
- 返回对话页面
- 加载该会话的对话历史
- 显示之前的所有消息
- 可以继续对话

**实际结果**: _______________

---


## 📱 模块5: 联系人详情（四标签页）

### 测试点 5.1: 概览Tab - 编辑联系人信息

**测试步骤**:
1. 在联系人详情页面的"概览"Tab
2. 点击联系人信息卡片（显示姓名和目标的区域）
3. 在弹出的编辑对话框中：
   - 修改姓名为"张三（产品经理）"
   - 修改目标为"建立长期合作关系"
4. 点击"确定"按钮

**预期结果**:
- 点击信息卡片后，弹出iOS风格编辑对话框
- 对话框包含两个输入框：姓名、目标
- 输入框预填充当前值
- 点击"确定"后：
  - 对话框关闭
  - 页面上的姓名和目标立即更新
  - 显示成功提示

**实际结果**: _______________

---

### 测试点 5.2: 概览Tab - 设置对话主题

**测试步骤**:
1. 在联系人详情页面的"概览"Tab
2. 点击"对话主题"卡片
3. 在弹出的主题设置对话框中：
   - 输入主题："职场沟通技巧"
   - 输入背景："张三是资深产品经理，擅长需求分析"
4. 点击"保存"按钮

**预期结果**:
- 点击卡片后，弹出主题设置对话框
- 对话框包含：
  - 主题输入框
  - 背景输入框（多行）
  - "取消"和"保存"按钮
- 保存后：
  - 对话框关闭
  - "对话主题"卡片显示设置的主题
  - 后续AI对话会考虑这个主题

**实际结果**: _______________

---

### 测试点 5.3: 概览Tab - 查看事实流

**测试步骤**:
1. 在联系人详情页面的"概览"Tab
2. 点击"最新事实"卡片中的"查看全部"按钮

**预期结果**:
- 自动切换到"事实流"Tab
- 显示该联系人的所有事实

**实际结果**: _______________

---

### 测试点 5.4: 事实流Tab - 添加事实

**测试步骤**:
1. 在联系人详情页面的"事实流"Tab
2. 点击右下角"+"悬浮按钮
3. 在弹出的底部弹窗中：
   - 选择类型"工作相关"
   - 输入内容"负责XX产品线"
4. 点击"添加"按钮

**预期结果**:
- 点击"+"后，从底部滑出添加事实弹窗
- 弹窗包含类型选择器和内容输入框
- 点击"添加"后：
  - 弹窗关闭
  - 新事实出现在事实流列表顶部
  - 显示时间戳和来源（手动添加）

**实际结果**: _______________

---

### 测试点 5.5: 事实流Tab - 编辑事实

**测试步骤**:
1. 在联系人详情页面的"事实流"Tab
2. 点击任意一条事实
3. 在弹出的编辑对话框中：
   - 修改类型为"性格特点"
   - 修改内容为"做事认真负责"
4. 点击"保存"按钮

**预期结果**:
- 点击事实后，弹出编辑对话框
- 对话框包含：
  - 类型输入框（预填充）
  - 内容输入框（预填充）
  - "取消"、"删除"、"保存"按钮
- 保存后：
  - 对话框关闭
  - 事实内容更新
  - 显示"已更新"提示

**实际结果**: _______________

---

### 测试点 5.6: 事实流Tab - 删除事实

**测试步骤**:
1. 在联系人详情页面的"事实流"Tab
2. 点击任意一条事实
3. 在编辑对话框中点击"删除"按钮
4. 在确认对话框中点击"确定"

**预期结果**:
- 点击"删除"后，弹出确认对话框
- 确认后：
  - 对话框关闭
  - 事实从列表中移除
  - 显示"已删除"提示

**实际结果**: _______________

---

### 测试点 5.7: 事实流Tab - 切换视图模式

**测试步骤**:
1. 在联系人详情页面的"事实流"Tab
2. 点击顶部的"列表"按钮
3. 观察页面变化
4. 再次点击切换回"时间线"

**预期结果**:
- 点击"列表"后：
  - 视图切换为列表模式
  - 事实按类型分组显示
  - 每组显示类型标题和事实列表
- 点击"时间线"后：
  - 视图切换回时间线模式
  - 事实按时间倒序显示
  - 显示时间轴线条

**实际结果**: _______________

---

### 测试点 5.8: 事实流Tab - 过滤器

**测试步骤**:
1. 在联系人详情页面的"事实流"Tab
2. 点击"事实"过滤器按钮（使其变为未选中状态）
3. 观察列表变化
4. 再次点击"事实"按钮（恢复选中）

**预期结果**:
- 取消选中"事实"后：
  - 列表中的事实项隐藏
  - 只显示其他类型（对话、总结、里程碑）
- 恢复选中后：
  - 事实项重新显示
- 过滤器按钮状态：
  - 选中：蓝色背景
  - 未选中：灰色背景

**实际结果**: _______________

---

### 测试点 5.9: 画像Tab - 查看分类事实

**测试步骤**:
1. 在联系人详情页面的"画像"Tab
2. 观察页面布局
3. 点击任意一条事实

**预期结果**:
- 页面按事实类型分组显示：
  - 每个分组显示类型标题（如"兴趣爱好"、"工作相关"）
  - 分组下显示该类型的所有事实
  - 事实显示为圆角卡片
- 点击事实后：
  - 弹出编辑对话框（与事实流Tab相同）

**实际结果**: _______________

---

### 测试点 5.10: 画像Tab - 长按删除事实

**测试步骤**:
1. 在联系人详情页面的"画像"Tab
2. 长按任意一条事实
3. 在确认对话框中点击"确定"

**预期结果**:
- 长按后，弹出删除确认对话框
- 确认后：
  - 对话框关闭
  - 事实从列表中移除
  - 如果该分组没有其他事实，分组标题也消失

**实际结果**: _______________

---

### 测试点 5.11: 资料库Tab - 查看数据源

**测试步骤**:
1. 在联系人详情页面的"资料库"Tab
2. 观察页面内容

**预期结果**:
- 显示6个数据源卡片（2行3列网格布局）：
  - 聊天记录：显示数量（如果有对话）
  - AI总结：显示数量（如果有总结）
  - 图片：显示"不可用"状态
  - 语音消息：显示"不可用"状态
  - 视频：显示"不可用"状态
  - 文件：显示"不可用"状态
- 每个卡片显示：
  - 图标
  - 标题
  - 数量或状态

**实际结果**: _______________

---

### 测试点 5.12: 手动总结 - 触发总结

**测试步骤**:
1. 在联系人详情页面的"事实流"Tab
2. 点击右下角的"总结"悬浮按钮（如果有）
3. 在日期选择对话框中：
   - 选择"最近7天"快捷选项
4. 点击"确定"按钮
5. 观察总结进度

**预期结果**:
- 点击按钮后，弹出日期范围选择对话框
- 对话框包含：
  - 快捷选项：最近7天、最近30天、自定义
  - 日期范围显示
  - "取消"和"确定"按钮
- 点击"确定"后：
  - 显示进度对话框
  - 显示"正在分析对话..."进度文字
  - 显示进度条或加载动画
- 总结完成后：
  - 显示结果对话框
  - 显示总结内容
  - 可以查看详情或关闭

**实际结果**: _______________

---

## 📱 模块6: 悬浮窗功能

### 测试点 6.1: 开启悬浮窗权限

**测试步骤**:
1. 点击底部"设置"Tab
2. 在"悬浮窗"分组下，点击"启用悬浮窗"开关
3. 在弹出的权限说明对话框中，点击"去设置"
4. 在系统设置页面，开启悬浮窗权限
5. 返回应用

**预期结果**:
- 点击开关后，弹出iOS风格权限说明对话框：
  - 标题："需要悬浮窗权限"
  - 内容：说明悬浮窗功能的用途
  - 按钮："取消"、"去设置"
- 点击"去设置"后：
  - 跳转到系统悬浮窗权限设置页面
  - 显示应用名称
- 开启权限后返回：
  - 开关自动变为开启状态
  - 显示"已启用"提示

**实际结果**: _______________

---

### 测试点 6.2: 启动悬浮窗服务

**测试步骤**:
1. 确保已开启悬浮窗权限
2. 在设置页面，确认"启用悬浮窗"开关为开启状态
3. 返回桌面或其他应用

**预期结果**:
- 开关开启后：
  - 屏幕上出现悬浮球（圆形图标）
  - 悬浮球默认位置在屏幕右侧中间
  - 悬浮球显示IDLE状态（默认颜色）

**实际结果**: _______________

---

### 测试点 6.3: 悬浮球拖动

**测试步骤**:
1. 长按悬浮球
2. 拖动到屏幕左上角
3. 松手
4. 再次拖动到屏幕右下角

**预期结果**:
- 长按后，悬浮球可以跟随手指移动
- 移动过程中：
  - 悬浮球略微放大
  - 半透明显示
- 松手后：
  - 悬浮球自动吸附到最近的屏幕边缘
  - 恢复正常大小和透明度
  - 记住当前位置（下次启动在此位置）

**实际结果**: _______________

---

### 测试点 6.4: 悬浮窗展开 - 分析功能

**测试步骤**:
1. 点击悬浮球
2. 在展开的悬浮窗中：
   - 确认当前Tab为"分析"
   - 在输入框输入："今天和张三聊了工作的事"
3. 点击"分析"按钮
4. 观察AI分析过程和结果

**预期结果**:
- 点击悬浮球后：
  - 悬浮窗从小球展开为矩形窗口
  - 顶部显示三个Tab：分析、润色、回复
  - 默认选中"分析"Tab
  - 显示输入框和"分析"按钮
- 点击"分析"后：
  - 悬浮球变为LOADING状态（旋转动画）
  - 输入框禁用
  - 显示"分析中..."提示
- 分析完成后：
  - 悬浮球变为SUCCESS状态（绿色）
  - 显示分析结果卡片
  - 结果包含：风险等级、建议内容
  - 底部显示"复制"和"重新生成"按钮

**实际结果**: _______________

---

### 测试点 6.5: 悬浮窗 - 润色功能

**测试步骤**:
1. 在悬浮窗中，点击"润色"Tab
2. 在输入框输入："我想和你讨论一下这个方案"
3. 点击"润色"按钮
4. 查看润色结果

**预期结果**:
- 切换到"润色"Tab后：
  - 输入框占位符变为"输入要润色的文字..."
  - 按钮文字变为"润色"
- 点击"润色"后：
  - 悬浮球显示LOADING状态
  - 显示"润色中..."提示
- 润色完成后：
  - 显示润色后的文字
  - 可以点击"复制"按钮复制结果

**实际结果**: _______________

---

### 测试点 6.6: 悬浮窗 - 回复功能

**测试步骤**:
1. 在悬浮窗中，点击"回复"Tab
2. 在输入框输入："张三问我周末有没有空"
3. 点击"生成回复"按钮
4. 查看生成的回复建议

**预期结果**:
- 切换到"回复"Tab后：
  - 输入框占位符变为"输入对方的消息..."
  - 按钮文字变为"生成回复"
- 点击"生成回复"后：
  - 悬浮球显示LOADING状态
  - 显示"生成中..."提示
- 生成完成后：
  - 显示多条回复建议（如果有）
  - 每条回复可以单独复制

**实际结果**: _______________

---

## 📱 模块7: 设置功能

### 测试点 7.1: 查看设置页面

**测试步骤**:
1. 点击底部"设置"Tab
2. 观察页面布局

**预期结果**:
- 页面顶部显示"设置"大标题（34sp，iOS风格）
- 显示以下分组（iOS Inset Grouped风格）：
  - AI配置：AI服务商、提示词设置
  - 悬浮窗：启用悬浮窗（开关）
  - 隐私保护：数据掩码（开关）、本地优先模式（开关）
  - 个人画像：管理个人画像
  - 数据管理：清除所有设置
  - 关于：版本号
- 每个分组显示为白色圆角卡片
- 底部有三个Tab导航

**实际结果**: _______________

---

### 测试点 7.2: 数据掩码开关

**测试步骤**:
1. 在设置页面
2. 点击"数据掩码"右侧的开关
3. 观察开关状态变化

**预期结果**:
- 点击开关后：
  - 开关状态切换（开启↔关闭）
  - 开启时：开关显示绿色
  - 关闭时：开关显示灰色
  - 设置立即保存（无需额外确认）
- 开启数据掩码后：
  - AI分析前会自动掩码敏感信息（手机号、身份证等）

**实际结果**: _______________

---

### 测试点 7.3: 本地优先模式开关

**测试步骤**:
1. 在设置页面
2. 点击"本地优先模式"右侧的开关
3. 观察开关状态变化

**预期结果**:
- 点击开关后：
  - 开关状态切换
  - 设置立即保存
- 开启本地优先模式后：
  - 安全检查优先使用本地规则
  - 减少AI API调用

**实际结果**: _______________

---

### 测试点 7.4: 管理个人画像

**测试步骤**:
1. 在设置页面
2. 点击"管理个人画像"项
3. 在个人画像页面：
   - 输入性格特点："外向、乐观"
   - 输入价值观："诚信、责任"
4. 点击保存

**预期结果**:
- 点击后进入"个人画像"页面
- 页面包含多个输入框：
  - 性格特点
  - 价值观
  - 兴趣爱好
  - 沟通风格
- 保存后：
  - 返回设置页面
  - 显示"已保存"提示
- 个人画像会影响AI的分析和建议

**实际结果**: _______________

---

### 测试点 7.5: 提示词设置

**测试步骤**:
1. 在设置页面
2. 点击"提示词设置"项
3. 观察提示词场景列表

**预期结果**:
- 进入提示词设置页面
- 显示4个核心场景：
  - 分析（ANALYZE）
  - 润色（POLISH）
  - 回复（REPLY）
  - 总结（SUMMARY）
- 每个场景显示为列表项，可以点击进入编辑

**实际结果**: _______________

---

### 测试点 7.6: 编辑提示词

**测试步骤**:
1. 在提示词设置页面
2. 点击"分析"场景
3. 在提示词编辑器中：
   - 修改系统提示词内容
   - 添加自定义变量
4. 点击保存

**预期结果**:
- 进入提示词编辑器页面
- 显示：
  - 场景名称和描述
  - 系统提示词输入框（多行）
  - 变量列表和说明
  - 字符计数
  - 保存按钮
- 保存后：
  - 返回提示词设置页面
  - 显示"已保存"提示
- 修改后的提示词立即生效

**实际结果**: _______________

---

### 测试点 7.7: 清除所有设置

**测试步骤**:
1. 在设置页面
2. 点击"清除所有设置"项
3. 在确认对话框中点击"确定清除"

**预期结果**:
- 点击后，弹出iOS风格确认对话框：
  - 标题："清除所有设置"
  - 内容：列出将被清除和不会清除的数据
  - 按钮："取消"（灰色）、"确定清除"（红色）
- 点击"确定清除"后：
  - 对话框关闭
  - 显示"正在清除..."提示
  - 清除完成后显示"已清除"提示
  - AI服务商配置被清除
  - 隐私设置恢复默认
  - 联系人数据保留

**实际结果**: _______________

---

### 测试点 7.8: 查看应用版本

**测试步骤**:
1. 在设置页面
2. 滚动到"关于"分组
3. 查看版本号

**预期结果**:
- "关于"分组显示：
  - 图标：灰色信息图标
  - 标题："版本"
  - 右侧：版本号（如"1.0.0"）
  - 无右箭头（不可点击）

**实际结果**: _______________

---

## 📱 模块8: 提示词管理

### 测试点 8.1: 全局提示词配置

**测试步骤**:
1. 在设置页面，点击"提示词设置"
2. 点击"分析"场景
3. 查看全局提示词配置

**预期结果**:
- 显示全局提示词编辑器
- 包含：
  - 场景名称："分析"
  - 场景描述
  - 系统提示词输入框
  - 可用变量列表
  - 字符计数

**实际结果**: _______________

---

### 测试点 8.2: 联系人自定义提示词

**测试步骤**:
1. 进入联系人详情页面（概览Tab）
2. 点击"自定义提示词"按钮
3. 在提示词编辑器中：
   - 输入自定义系统提示词
   - 使用变量（如{{contact_name}}）
4. 点击保存

**预期结果**:
- 进入联系人专属提示词编辑器
- 显示：
  - 联系人名称
  - 继承自全局提示词的标记
  - 自定义提示词输入框
  - 变量自动补全
- 保存后：
  - 返回概览页面
  - 显示"已保存"提示
- 该联系人的AI分析使用自定义提示词

**实际结果**: _______________

---

### 测试点 8.3: 提示词变量解析

**测试步骤**:
1. 在提示词编辑器中
2. 输入包含变量的提示词：
   "你是{{contact_name}}的AI助手，请分析以下内容"
3. 保存并使用该提示词进行AI分析

**预期结果**:
- 编辑器中：
  - 变量显示为高亮
  - 输入{{时显示变量列表
  - 可以选择变量插入
- 实际使用时：
  - 变量被正确替换为实际值
  - 如{{contact_name}}替换为"张三"

**实际结果**: _______________

---

### 测试点 8.4: 提示词验证

**测试步骤**:
1. 在提示词编辑器中
2. 输入超长提示词（超过10000字符）
3. 尝试保存

**预期结果**:
- 输入过程中：
  - 实时显示字符计数
  - 超过限制时，计数显示为红色
- 点击保存时：
  - 显示错误提示："提示词过长，请控制在10000字符以内"
  - 无法保存

**实际结果**: _______________

---

### 测试点 8.5: 提示词备份

**测试步骤**:
1. 修改全局提示词
2. 保存
3. 再次修改并保存
4. 查看提示词历史版本（如果有此功能）

**预期结果**:
- 每次保存时：
  - 自动创建备份
  - 备份包含时间戳
- 可以查看历史版本（如果实现）
- 可以恢复到历史版本（如果实现）

**实际结果**: _______________

---

## 📊 测试总结

### 测试统计

- **总测试点数**: _____ 个
- **通过数量**: _____ 个
- **失败数量**: _____ 个
- **阻塞数量**: _____ 个
- **通过率**: _____%

### 严重问题列表

| 编号 | 模块 | 问题描述 | 严重程度 | 状态 |
|------|------|---------|---------|------|
| 1 | | | P0/P1/P2 | 待修复 |
| 2 | | | P0/P1/P2 | 待修复 |

### 一般问题列表

| 编号 | 模块 | 问题描述 | 建议 | 状态 |
|------|------|---------|------|------|
| 1 | | | | 待优化 |
| 2 | | | | 待优化 |

### 测试建议

1. **功能完整性**: _____________________
2. **用户体验**: _____________________
3. **性能表现**: _____________________
4. **稳定性**: _____________________

### 测试结论

□ 通过，可以发布  
□ 有问题，需要修复后重新测试  
□ 严重问题，不建议发布

---

## 📝 附录

### 测试环境信息

- **设备型号**: _____________________
- **Android版本**: _____________________
- **应用版本**: _____________________
- **测试日期**: _____________________
- **测试人员**: _____________________

### 已知限制

1. 图片、语音、视频功能暂未实现
2. 媒体转录功能未实现
3. 无障碍服务集成未完成

---

**测试完成日期**: _______________  
**测试人员签名**: _______________

