<!DOCTYPE html>
<html lang="zh-CN" style="height: 100%;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº‹å®æµé¡µ - FactStreamTab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body {
            height: 100%;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            overflow: auto;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .filled {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        
        /* å¡ç‰‡ç»Ÿä¸€æ ·å¼ - å¤§åœ†è§’ + æŸ”å’ŒæŠ•å½± */
        .card-elevated {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px -4px rgba(0, 0, 0, 0.08), 0 8px 32px -8px rgba(0, 0, 0, 0.04);
            border: 1px solid rgba(0, 0, 0, 0.03);
        }
        
        /* æ—¶é—´çº¿è¿æ¥çº¿ */
        .timeline-line {
            width: 2px;
            background: linear-gradient(180deg, #E2E8F0 0%, #CBD5E1 100%);
        }
        
        /* æƒ…ç»ªèŠ‚ç‚¹é¢œè‰² - EmotionTypeæšä¸¾ (6ç§ç±»å‹) */
        .emotion-sweet { background: linear-gradient(135deg, #FFB6C1 0%, #FF69B4 100%); }
        .emotion-conflict { background: linear-gradient(135deg, #FFA07A 0%, #FF6347 100%); }
        .emotion-neutral { background: linear-gradient(135deg, #B0C4DE 0%, #87CEEB 100%); }
        .emotion-gift { background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); }
        .emotion-date { background: linear-gradient(135deg, #DDA0DD 0%, #BA55D3 100%); }
        .emotion-deep-talk { background: linear-gradient(135deg, #98D8C8 0%, #20B2AA 100%); }
        
        /* åˆ†æ®µæ§åˆ¶å™¨ */
        .segment-control {
            background: rgba(118, 118, 128, 0.12);
            border-radius: 10px;
            padding: 3px;
        }
        .segment-btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #8E8E93;
            transition: all 0.2s ease;
        }
        .segment-active {
            background: white;
            color: #000;
            box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
        }
        
        /* ç­›é€‰èƒ¶å›Š */
        .filter-chip {
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            white-space: nowrap;
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .filter-chip-active {
            background: #007AFF;
            color: white;
            box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);
        }
        .filter-chip-inactive {
            background: white;
            color: #666;
            border: 1px solid #E5E5EA;
        }
        .filter-chip-inactive:hover {
            background: #F8F8FA;
            border-color: #D1D1D6;
        }
        
        /* å›¾æ ‡èƒŒæ™¯è‰²å— */
        .icon-bg-sweet { background: #FFF0F3; }
        .icon-bg-conflict { background: #FFF4F0; }
        .icon-bg-gift { background: #FFFBEB; }
        .icon-bg-date { background: #FAF5FF; }
        .icon-bg-ai { background: #F0F7FF; }
        .icon-bg-manual { background: #F0FDF4; }
        
        @keyframes fadeIn { 
            from { opacity: 0; transform: translateY(10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        
        /* è§†å›¾åˆ‡æ¢ */
        .view-timeline { display: block; }
        .view-list { display: none; }
        .show-list .view-timeline { display: none; }
        .show-list .view-list { display: block; }
    </style>
</head>
<body>
    <div id="app" class="w-full h-full bg-[#F5F5F7] flex flex-col font-sans select-none overflow-hidden">
        
        <!-- å›ºå®šå¤´éƒ¨å¯¼èˆª -->
        <div class="sticky top-0 z-50 bg-[#F5F5F7]/95 backdrop-blur-xl border-b border-slate-200/50">
            <!-- é¡¶éƒ¨æ“ä½œæ  -->
            <div class="flex justify-between items-center px-4 h-[52px]">
                <button class="w-10 h-10 flex items-center justify-center rounded-full bg-white/60 hover:bg-white transition-colors text-slate-900 backdrop-blur-md shadow-sm border border-white/30" title="è¿”å›">
                    <span class="material-symbols-outlined text-[22px]">arrow_back</span>
                </button>
                <h1 class="text-[17px] font-bold text-black">å°çº¢</h1>
                <div class="flex gap-2">
                    <!-- æ·»åŠ äº‹å®æŒ‰é’® -->
                    <button id="btn-add" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/60 hover:bg-white transition-colors text-[#007AFF] backdrop-blur-md shadow-sm border border-white/30" title="æ·»åŠ äº‹å®">
                        <span class="material-symbols-outlined text-[22px]">add</span>
                    </button>
                    <!-- ç­›é€‰æŒ‰é’® -->
                    <button id="btn-filter" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/60 hover:bg-white transition-colors text-slate-900 backdrop-blur-md shadow-sm border border-white/30" title="ç­›é€‰">
                        <span class="material-symbols-outlined text-[22px]">filter_list</span>
                    </button>
                </div>
            </div>

            <!-- æ ‡ç­¾é¡µå¯¼èˆª -->
            <div class="flex justify-around items-end px-2 h-11 mt-1">
                <button class="px-4 py-2.5 text-[15px] font-medium text-[#8E8E93] hover:text-slate-700 transition-colors">æ¦‚è§ˆ</button>
                <button class="relative px-4 py-2.5 text-[15px] font-bold text-black">
                    äº‹å®æµ
                    <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-[3px] bg-[#007AFF] rounded-full"></div>
                </button>
                <button class="px-4 py-2.5 text-[15px] font-medium text-[#8E8E93] hover:text-slate-700 transition-colors">æ ‡ç­¾ç”»åƒ</button>
                <button class="px-4 py-2.5 text-[15px] font-medium text-[#8E8E93] hover:text-slate-700 transition-colors">èµ„æ–™åº“</button>
            </div>
        </div>

        <!-- è§†å›¾åˆ‡æ¢æ§ä»¶ -->
        <div class="px-4 py-3 flex items-center justify-between bg-[#F5F5F7]">
            <div class="segment-control flex flex-1 mr-3">
                <button id="btn-timeline" class="segment-btn segment-active flex-1" onclick="switchView('timeline')">
                    æ—¶å…‰è½´
                </button>
                <button id="btn-list" class="segment-btn flex-1" onclick="switchView('list')">
                    æ¸…å•
                </button>
            </div>
        </div>

        <!-- ç­›é€‰æ ‡ç­¾ -->
        <div class="px-4 pb-3 flex gap-2 overflow-x-auto no-scrollbar">
            <span class="filter-chip filter-chip-active" data-filter="ALL">å…¨éƒ¨</span>
            <span class="filter-chip filter-chip-inactive" data-filter="SWEET">â¤ï¸ ç”œèœœ</span>
            <span class="filter-chip filter-chip-inactive" data-filter="CONFLICT">â›ˆï¸ å†²çª</span>
            <span class="filter-chip filter-chip-inactive" data-filter="DATE">ğŸ½ï¸ çº¦ä¼š</span>
            <span class="filter-chip filter-chip-inactive" data-filter="AI_SUMMARY">ğŸ¤– AIæ€»ç»“</span>
        </div>


        <!-- ==================== æ—¶å…‰è½´è§†å›¾ ==================== -->
        <main class="view-timeline flex-1 overflow-y-auto no-scrollbar px-4 pb-28 space-y-4">
            
            <!-- å¯¹è¯è®°å½• - ç”œèœœç±»å‹ -->
            <div class="flex gap-3 animate-fade-in" style="animation-delay: 0.1s;">
                <!-- å·¦ä¾§ï¼šæƒ…ç»ªèŠ‚ç‚¹ + è¿æ¥çº¿ -->
                <div class="flex flex-col items-center w-12 flex-shrink-0">
                    <div class="w-10 h-10 rounded-full emotion-sweet flex items-center justify-center shadow-lg ring-4 ring-white">
                        <span class="text-white text-base">â¤ï¸</span>
                    </div>
                    <div class="timeline-line flex-1 my-2"></div>
                </div>
                
                <!-- å³ä¾§ï¼šå¯¹è¯å¡ç‰‡ -->
                <div class="flex-1 card-elevated p-4">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center gap-2">
                            <div class="w-6 h-6 rounded-full icon-bg-sweet flex items-center justify-center">
                                <span class="material-symbols-outlined text-pink-500 text-sm filled">chat_bubble</span>
                            </div>
                            <span class="text-[13px] text-[#8E8E93] font-medium">ä»Šå¤© 14:30</span>
                        </div>
                        <button class="w-8 h-8 rounded-full hover:bg-slate-100 flex items-center justify-center transition-colors" title="æ›´å¤šæ“ä½œ">
                            <span class="material-symbols-outlined text-[#C7C7CC] text-lg">more_horiz</span>
                        </button>
                    </div>
                    <p class="text-[15px] text-[#333] leading-relaxed mb-3">
                        <span class="text-[#007AFF] font-semibold">æˆ‘ï¼š</span>
                        ä»Šå¤©æƒ³çº¦å¥¹å‡ºå»åƒé¥­ï¼Œä¸çŸ¥é“é€‰ä»€ä¹ˆé¤å…å¥½
                    </p>
                    <div class="bg-[#F0F7FF] rounded-xl p-3">
                        <div class="flex items-center gap-2 mb-1.5">
                            <span class="material-symbols-outlined text-[#007AFF] text-sm">psychology</span>
                            <span class="text-[12px] text-[#007AFF] font-semibold">AI å»ºè®®</span>
                        </div>
                        <p class="text-[14px] text-[#555] leading-relaxed">
                            å»ºè®®é€‰æ‹©å¥¹ä¹‹å‰æåˆ°å–œæ¬¢çš„å·èœé¦†ï¼Œç”¨è½»æ¾çš„æ–¹å¼é‚€è¯·
                        </p>
                    </div>
                </div>
            </div>

            <!-- AI æ—¥æ€»ç»“ -->
            <div class="flex gap-3 animate-fade-in" style="animation-delay: 0.2s;">
                <div class="flex flex-col items-center w-12 flex-shrink-0">
                    <div class="w-10 h-10 rounded-full emotion-neutral flex items-center justify-center shadow-lg ring-4 ring-white">
                        <span class="material-symbols-outlined text-white text-lg">psychology</span>
                    </div>
                    <div class="timeline-line flex-1 my-2"></div>
                </div>
                
                <div class="flex-1 card-elevated p-4 border-l-4 border-l-purple-400">
                    <div class="flex items-center gap-2 mb-3">
                        <div class="w-6 h-6 rounded-full icon-bg-ai flex items-center justify-center">
                            <span class="material-symbols-outlined text-purple-500 text-sm filled">auto_awesome</span>
                        </div>
                        <span class="text-[14px] font-semibold text-purple-600">AI æ—¥æ€»ç»“</span>
                        <span class="text-[12px] text-[#8E8E93] ml-auto">æ˜¨å¤©</span>
                    </div>
                    <p class="text-[15px] text-[#333] leading-relaxed mb-3">
                        ä»Šå¤©çš„äº’åŠ¨æ•´ä½“æ°›å›´ä¸é”™ï¼Œä½ ä»¬è®¨è®ºäº†å‘¨æœ«çš„è®¡åˆ’ï¼Œå¥¹è¡¨ç°å‡ºå¯¹æˆ·å¤–æ´»åŠ¨çš„å…´è¶£ã€‚
                    </p>
                    <div class="flex flex-wrap gap-2 mb-3">
                        <span class="px-2.5 py-1 bg-purple-50 text-purple-600 rounded-full text-[12px] font-medium">è®¨è®ºå‘¨æœ«è®¡åˆ’</span>
                        <span class="px-2.5 py-1 bg-purple-50 text-purple-600 rounded-full text-[12px] font-medium">æˆ·å¤–æ´»åŠ¨å…´è¶£</span>
                    </div>
                    <div class="flex items-center gap-2 text-emerald-600 bg-emerald-50 rounded-lg px-3 py-2">
                        <span class="material-symbols-outlined text-base">trending_up</span>
                        <span class="text-[13px] font-semibold">å…³ç³»åˆ†æ•° +2</span>
                    </div>
                </div>
            </div>

            <!-- ç”¨æˆ·æ‰‹åŠ¨æ·»åŠ çš„äº‹å® -->
            <div class="flex gap-3 animate-fade-in" style="animation-delay: 0.3s;">
                <div class="flex flex-col items-center w-12 flex-shrink-0">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-teal-300 to-cyan-400 flex items-center justify-center shadow-lg ring-4 ring-white">
                        <span class="material-symbols-outlined text-white text-lg">edit_note</span>
                    </div>
                    <div class="timeline-line flex-1 my-2"></div>
                </div>
                
                <div class="flex-1 card-elevated p-4 bg-gradient-to-br from-teal-50/50 to-cyan-50/50">
                    <div class="flex items-start justify-between mb-2">
                        <div class="flex items-center gap-2">
                            <div class="w-6 h-6 rounded-full icon-bg-manual flex items-center justify-center">
                                <span class="material-symbols-outlined text-teal-500 text-sm filled">bookmark</span>
                            </div>
                            <span class="text-[14px] font-semibold text-teal-700">å…´è¶£çˆ±å¥½</span>
                        </div>
                        <span class="text-[12px] text-[#8E8E93]">12-20 10:30</span>
                    </div>
                    <p class="text-[15px] text-[#333] leading-relaxed mb-2">å–œæ¬¢å‘¨æœ«å»çˆ¬å±±ï¼Œç‰¹åˆ«æ˜¯ç§‹å¤©çš„æ—¶å€™</p>
                    <span class="inline-flex items-center gap-1 text-[12px] text-[#007AFF] font-medium bg-blue-50 px-2 py-0.5 rounded-full">
                        <span class="material-symbols-outlined text-xs">person</span>
                        æ‰‹åŠ¨æ·»åŠ 
                    </span>
                </div>
            </div>

            <!-- å†²çªç±»å‹ -->
            <div class="flex gap-3 animate-fade-in" style="animation-delay: 0.4s;">
                <div class="flex flex-col items-center w-12 flex-shrink-0">
                    <div class="w-10 h-10 rounded-full emotion-conflict flex items-center justify-center shadow-lg ring-4 ring-white">
                        <span class="text-white text-base">â›ˆï¸</span>
                    </div>
                    <div class="timeline-line flex-1 my-2"></div>
                </div>
                
                <div class="flex-1 card-elevated p-4 border-l-4 border-l-orange-400">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center gap-2">
                            <div class="w-6 h-6 rounded-full icon-bg-conflict flex items-center justify-center">
                                <span class="material-symbols-outlined text-orange-500 text-sm filled">warning</span>
                            </div>
                            <span class="text-[12px] text-[#8E8E93]">12-18 20:15</span>
                        </div>
                        <span class="px-2.5 py-1 bg-orange-100 text-orange-600 rounded-full text-[11px] font-semibold">éœ€è¦æ³¨æ„</span>
                    </div>
                    <p class="text-[15px] text-[#333] leading-relaxed mb-3">
                        <span class="text-[#007AFF] font-semibold">æˆ‘ï¼š</span>
                        ä¸å°å¿ƒæåˆ°äº†å¥¹ä¸å–œæ¬¢çš„è¯é¢˜
                    </p>
                    <div class="bg-orange-50 rounded-xl p-3">
                        <div class="flex items-center gap-2 mb-1.5">
                            <span class="material-symbols-outlined text-orange-500 text-sm">tips_and_updates</span>
                            <span class="text-[12px] text-orange-600 font-semibold">AI æé†’</span>
                        </div>
                        <p class="text-[14px] text-[#555] leading-relaxed">
                            å»ºè®®é¿å…è¿™ä¸ªè¯é¢˜ï¼Œå¯ä»¥è½¬ç§»åˆ°å¥¹æ„Ÿå…´è¶£çš„äº‹æƒ…ä¸Š
                        </p>
                    </div>
                </div>
            </div>

            <!-- ç¤¼ç‰©è®°å½• -->
            <div class="flex gap-3 animate-fade-in" style="animation-delay: 0.5s;">
                <div class="flex flex-col items-center w-12 flex-shrink-0">
                    <div class="w-10 h-10 rounded-full emotion-gift flex items-center justify-center shadow-lg ring-4 ring-white">
                        <span class="text-white text-base">ğŸ</span>
                    </div>
                    <div class="timeline-line flex-1 my-2"></div>
                </div>
                
                <div class="flex-1 card-elevated p-4 bg-gradient-to-br from-amber-50/50 to-yellow-50/50">
                    <div class="flex items-start justify-between mb-2">
                        <div class="flex items-center gap-2">
                            <div class="w-6 h-6 rounded-full icon-bg-gift flex items-center justify-center">
                                <span class="material-symbols-outlined text-amber-500 text-sm filled">redeem</span>
                            </div>
                            <span class="text-[14px] font-semibold text-amber-700">ç¤¼ç‰©è®°å½•</span>
                        </div>
                        <span class="text-[12px] text-[#8E8E93]">12-15</span>
                    </div>
                    <p class="text-[15px] text-[#333] leading-relaxed mb-2">é€äº†ä¸€æœ¬å¥¹å–œæ¬¢çš„ä½œå®¶çš„æ–°ä¹¦</p>
                    <div class="flex items-center gap-2 text-amber-600">
                        <span class="material-symbols-outlined text-base filled">favorite</span>
                        <span class="text-[13px] font-medium">å¥¹å¾ˆå¼€å¿ƒ</span>
                    </div>
                </div>
            </div>

            <!-- çº¦ä¼šè®°å½• -->
            <div class="flex gap-3 animate-fade-in" style="animation-delay: 0.6s;">
                <div class="flex flex-col items-center w-12 flex-shrink-0">
                    <div class="w-10 h-10 rounded-full emotion-date flex items-center justify-center shadow-lg ring-4 ring-white">
                        <span class="text-white text-base">ğŸ½ï¸</span>
                    </div>
                    <div class="timeline-line flex-1 my-2 opacity-0"></div>
                </div>
                
                <div class="flex-1 card-elevated p-4 bg-gradient-to-br from-purple-50/50 to-pink-50/50">
                    <div class="flex items-start justify-between mb-2">
                        <div class="flex items-center gap-2">
                            <div class="w-6 h-6 rounded-full icon-bg-date flex items-center justify-center">
                                <span class="material-symbols-outlined text-purple-500 text-sm filled">restaurant</span>
                            </div>
                            <span class="text-[14px] font-semibold text-purple-700">çº¦ä¼šè®°å½•</span>
                        </div>
                        <span class="text-[12px] text-[#8E8E93]">12-10</span>
                    </div>
                    <p class="text-[15px] text-[#333] leading-relaxed mb-2">ä¸€èµ·å»äº†æ–°å¼€çš„å’–å•¡åº—ï¼ŒèŠäº†å¾ˆå¤š</p>
                    <div class="flex items-center gap-2 text-purple-600">
                        <span class="material-symbols-outlined text-base filled">mood</span>
                        <span class="text-[13px] font-medium">æ°›å›´å¾ˆå¥½</span>
                    </div>
                </div>
            </div>

            <!-- åŠ è½½æ›´å¤šæç¤º -->
            <div class="text-center py-6">
                <p class="text-[13px] text-[#C7C7CC]">ä¸‹æ‹‰åŠ è½½æ›´å¤š...</p>
            </div>

        </main>

        <!-- ==================== æ¸…å•è§†å›¾ ==================== -->
        <main class="view-list flex-1 overflow-y-auto no-scrollbar px-4 pb-28">
            
            <!-- æ—¥æœŸåˆ†ç»„æ ‡é¢˜ -->
            <div class="sticky top-0 z-10 bg-[#F5F5F7]/95 backdrop-blur-sm py-2 mb-2">
                <span class="text-[13px] font-semibold text-[#8E8E93]">ä»Šå¤©</span>
            </div>
            
            <!-- æ¸…å•é¡¹ - å¯¹è¯è®°å½• -->
            <div class="card-elevated mb-3 overflow-hidden animate-fade-in" style="animation-delay: 0.1s;">
                <div class="flex items-center p-4">
                    <!-- å·¦ä¾§å›¾æ ‡ -->
                    <div class="w-10 h-10 rounded-xl icon-bg-sweet flex items-center justify-center mr-3 flex-shrink-0">
                        <span class="text-lg">â¤ï¸</span>
                    </div>
                    <!-- ä¸­é—´å†…å®¹ -->
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-[15px] font-semibold text-[#333]">å¯¹è¯è®°å½•</span>
                            <span class="px-2 py-0.5 bg-pink-100 text-pink-600 rounded text-[11px] font-medium">ç”œèœœ</span>
                        </div>
                        <p class="text-[14px] text-[#666] truncate">ä»Šå¤©æƒ³çº¦å¥¹å‡ºå»åƒé¥­ï¼Œä¸çŸ¥é“é€‰ä»€ä¹ˆé¤å…å¥½</p>
                    </div>
                    <!-- å³ä¾§æ—¶é—´å’Œç®­å¤´ -->
                    <div class="flex items-center gap-2 ml-3 flex-shrink-0">
                        <span class="text-[12px] text-[#C7C7CC]">14:30</span>
                        <span class="material-symbols-outlined text-[#C7C7CC] text-lg">chevron_right</span>
                    </div>
                </div>
            </div>

            <!-- æ—¥æœŸåˆ†ç»„æ ‡é¢˜ -->
            <div class="sticky top-0 z-10 bg-[#F5F5F7]/95 backdrop-blur-sm py-2 mb-2 mt-4">
                <span class="text-[13px] font-semibold text-[#8E8E93]">æ˜¨å¤©</span>
            </div>

            <!-- æ¸…å•é¡¹ - AIæ€»ç»“ -->
            <div class="card-elevated mb-3 overflow-hidden animate-fade-in" style="animation-delay: 0.2s;">
                <div class="flex items-center p-4">
                    <div class="w-10 h-10 rounded-xl icon-bg-ai flex items-center justify-center mr-3 flex-shrink-0">
                        <span class="material-symbols-outlined text-purple-500 text-lg filled">auto_awesome</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-[15px] font-semibold text-[#333]">AI æ—¥æ€»ç»“</span>
                            <span class="px-2 py-0.5 bg-emerald-100 text-emerald-600 rounded text-[11px] font-medium">+2åˆ†</span>
                        </div>
                        <p class="text-[14px] text-[#666] truncate">ä»Šå¤©çš„äº’åŠ¨æ•´ä½“æ°›å›´ä¸é”™ï¼Œä½ ä»¬è®¨è®ºäº†å‘¨æœ«çš„è®¡åˆ’</p>
                    </div>
                    <div class="flex items-center gap-2 ml-3 flex-shrink-0">
                        <span class="text-[12px] text-[#C7C7CC]">23:00</span>
                        <span class="material-symbols-outlined text-[#C7C7CC] text-lg">chevron_right</span>
                    </div>
                </div>
            </div>

            <!-- æ—¥æœŸåˆ†ç»„æ ‡é¢˜ -->
            <div class="sticky top-0 z-10 bg-[#F5F5F7]/95 backdrop-blur-sm py-2 mb-2 mt-4">
                <span class="text-[13px] font-semibold text-[#8E8E93]">12æœˆ20æ—¥ å‘¨äº”</span>
            </div>

            <!-- æ¸…å•é¡¹ - æ‰‹åŠ¨äº‹å® -->
            <div class="card-elevated mb-3 overflow-hidden animate-fade-in" style="animation-delay: 0.3s;">
                <div class="flex items-center p-4">
                    <div class="w-10 h-10 rounded-xl icon-bg-manual flex items-center justify-center mr-3 flex-shrink-0">
                        <span class="material-symbols-outlined text-teal-500 text-lg filled">bookmark</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-[15px] font-semibold text-[#333]">å…´è¶£çˆ±å¥½</span>
                            <span class="px-2 py-0.5 bg-blue-100 text-blue-600 rounded text-[11px] font-medium">æ‰‹åŠ¨</span>
                        </div>
                        <p class="text-[14px] text-[#666] truncate">å–œæ¬¢å‘¨æœ«å»çˆ¬å±±ï¼Œç‰¹åˆ«æ˜¯ç§‹å¤©çš„æ—¶å€™</p>
                    </div>
                    <div class="flex items-center gap-2 ml-3 flex-shrink-0">
                        <span class="text-[12px] text-[#C7C7CC]">10:30</span>
                        <span class="material-symbols-outlined text-[#C7C7CC] text-lg">chevron_right</span>
                    </div>
                </div>
            </div>

            <!-- æ—¥æœŸåˆ†ç»„æ ‡é¢˜ -->
            <div class="sticky top-0 z-10 bg-[#F5F5F7]/95 backdrop-blur-sm py-2 mb-2 mt-4">
                <span class="text-[13px] font-semibold text-[#8E8E93]">12æœˆ18æ—¥ å‘¨ä¸‰</span>
            </div>

            <!-- æ¸…å•é¡¹ - å†²çª -->
            <div class="card-elevated mb-3 overflow-hidden animate-fade-in" style="animation-delay: 0.4s;">
                <div class="flex items-center p-4">
                    <div class="w-10 h-10 rounded-xl icon-bg-conflict flex items-center justify-center mr-3 flex-shrink-0">
                        <span class="text-lg">â›ˆï¸</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-[15px] font-semibold text-[#333]">å¯¹è¯è®°å½•</span>
                            <span class="px-2 py-0.5 bg-orange-100 text-orange-600 rounded text-[11px] font-medium">å†²çª</span>
                        </div>
                        <p class="text-[14px] text-[#666] truncate">ä¸å°å¿ƒæåˆ°äº†å¥¹ä¸å–œæ¬¢çš„è¯é¢˜</p>
                    </div>
                    <div class="flex items-center gap-2 ml-3 flex-shrink-0">
                        <span class="text-[12px] text-[#C7C7CC]">20:15</span>
                        <span class="material-symbols-outlined text-[#C7C7CC] text-lg">chevron_right</span>
                    </div>
                </div>
            </div>

            <!-- æ—¥æœŸåˆ†ç»„æ ‡é¢˜ -->
            <div class="sticky top-0 z-10 bg-[#F5F5F7]/95 backdrop-blur-sm py-2 mb-2 mt-4">
                <span class="text-[13px] font-semibold text-[#8E8E93]">12æœˆ15æ—¥ å‘¨æ—¥</span>
            </div>

            <!-- æ¸…å•é¡¹ - ç¤¼ç‰© -->
            <div class="card-elevated mb-3 overflow-hidden animate-fade-in" style="animation-delay: 0.5s;">
                <div class="flex items-center p-4">
                    <div class="w-10 h-10 rounded-xl icon-bg-gift flex items-center justify-center mr-3 flex-shrink-0">
                        <span class="text-lg">ğŸ</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-[15px] font-semibold text-[#333]">ç¤¼ç‰©è®°å½•</span>
                            <span class="px-2 py-0.5 bg-amber-100 text-amber-600 rounded text-[11px] font-medium">ç¤¼ç‰©</span>
                        </div>
                        <p class="text-[14px] text-[#666] truncate">é€äº†ä¸€æœ¬å¥¹å–œæ¬¢çš„ä½œå®¶çš„æ–°ä¹¦</p>
                    </div>
                    <div class="flex items-center gap-2 ml-3 flex-shrink-0">
                        <span class="material-symbols-outlined text-amber-500 text-base filled">favorite</span>
                        <span class="material-symbols-outlined text-[#C7C7CC] text-lg">chevron_right</span>
                    </div>
                </div>
            </div>

            <!-- æ—¥æœŸåˆ†ç»„æ ‡é¢˜ -->
            <div class="sticky top-0 z-10 bg-[#F5F5F7]/95 backdrop-blur-sm py-2 mb-2 mt-4">
                <span class="text-[13px] font-semibold text-[#8E8E93]">12æœˆ10æ—¥ å‘¨äºŒ</span>
            </div>

            <!-- æ¸…å•é¡¹ - çº¦ä¼š -->
            <div class="card-elevated mb-3 overflow-hidden animate-fade-in" style="animation-delay: 0.6s;">
                <div class="flex items-center p-4">
                    <div class="w-10 h-10 rounded-xl icon-bg-date flex items-center justify-center mr-3 flex-shrink-0">
                        <span class="text-lg">ğŸ½ï¸</span>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-[15px] font-semibold text-[#333]">çº¦ä¼šè®°å½•</span>
                            <span class="px-2 py-0.5 bg-purple-100 text-purple-600 rounded text-[11px] font-medium">çº¦ä¼š</span>
                        </div>
                        <p class="text-[14px] text-[#666] truncate">ä¸€èµ·å»äº†æ–°å¼€çš„å’–å•¡åº—ï¼ŒèŠäº†å¾ˆå¤š</p>
                    </div>
                    <div class="flex items-center gap-2 ml-3 flex-shrink-0">
                        <span class="material-symbols-outlined text-purple-500 text-base filled">mood</span>
                        <span class="material-symbols-outlined text-[#C7C7CC] text-lg">chevron_right</span>
                    </div>
                </div>
            </div>

            <!-- åŠ è½½æ›´å¤šæç¤º -->
            <div class="text-center py-6">
                <p class="text-[13px] text-[#C7C7CC]">ä¸‹æ‹‰åŠ è½½æ›´å¤š...</p>
            </div>

        </main>

        <!-- æ‰‹åŠ¨æ€»ç»“æ‚¬æµ®æŒ‰é’® -->
        <button class="fixed bottom-24 right-4 w-14 h-14 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 shadow-lg shadow-purple-300/50 flex items-center justify-center z-20 active:scale-95 transition-transform hover:shadow-xl" title="æ‰‹åŠ¨è§¦å‘AIæ€»ç»“">
            <span class="material-symbols-outlined text-white text-2xl">summarize</span>
        </button>

    </div>

    <script>
        // è§†å›¾åˆ‡æ¢
        function switchView(view) {
            const app = document.getElementById('app');
            const btnTimeline = document.getElementById('btn-timeline');
            const btnList = document.getElementById('btn-list');
            
            if (view === 'list') {
                app.classList.add('show-list');
                btnTimeline.classList.remove('segment-active');
                btnList.classList.add('segment-active');
            } else {
                app.classList.remove('show-list');
                btnTimeline.classList.add('segment-active');
                btnList.classList.remove('segment-active');
            }
        }
        
        // ç­›é€‰æ ‡ç­¾ç‚¹å‡»
        document.querySelectorAll('.filter-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                document.querySelectorAll('.filter-chip').forEach(c => {
                    c.classList.remove('filter-chip-active');
                    c.classList.add('filter-chip-inactive');
                });
                this.classList.remove('filter-chip-inactive');
                this.classList.add('filter-chip-active');
                console.log('Filter:', this.dataset.filter);
            });
        });
        
        // æ·»åŠ äº‹å®æŒ‰é’®
        document.getElementById('btn-add').addEventListener('click', () => {
            console.log('Event: ShowAddFactToStreamDialog');
        });
        
        // ç­›é€‰æŒ‰é’®
        document.getElementById('btn-filter').addEventListener('click', () => {
            console.log('Event: ShowFilterDialog');
        });
    </script>

    <!-- 
    ============================================================
    ä»£ç æ˜ å°„è¯´æ˜ (åŸºäºå®é™…Kotlinä»£ç  - 2025-12-25æ›´æ–°)
    ============================================================
    
    ã€UIä¼˜åŒ–è¯´æ˜ - 2025-12-25ã€‘
    æœ¬æ¬¡ä¼˜åŒ–éµå¾ªä»¥ä¸‹è®¾è®¡è§„èŒƒï¼š
    
    1. å…¨å±€åŸºç¡€ä¼˜åŒ– (Global Foundations)
       - èƒŒæ™¯è‰²ï¼š#F5F5F7ï¼ˆæµ…ç°åº•è‰²ï¼‰
       - å¡ç‰‡æ ·å¼ï¼š16pxå¤§åœ†è§’ + æŸ”å’Œå¼¥æ•£æŠ•å½±
       - å­—ä½“ï¼šInterç°ä»£æ— è¡¬çº¿å­—ä½“
       - é¢œè‰²å±‚çº§ï¼š
         * æ ‡é¢˜ï¼š#000000ï¼ˆé»‘è‰²åŠ ç²—ï¼‰
         * æ“ä½œæŒ‰é’®ï¼š#007AFFï¼ˆä¸»é¢˜è“ï¼‰
         * å°æ ‡é¢˜ï¼š#8E8E93ï¼ˆä¸­ç°è‰²ï¼‰
         * æ­£æ–‡ï¼š#333333ï¼ˆæ·±ç°è‰²ï¼‰
         * è¾…åŠ©æ–‡å­—ï¼š#C7C7CCï¼ˆæµ…ç°è‰²ï¼‰
    
    2. åŒè§†å›¾è®¾è®¡
       - æ—¶å…‰è½´è§†å›¾ï¼ˆTimeline Viewï¼‰ï¼š
         * å·¦ä¾§æƒ…ç»ªèŠ‚ç‚¹ + è¿æ¥çº¿
         * å³ä¾§å†…å®¹å¡ç‰‡
         * æƒ…ç»ªèŠ‚ç‚¹å¸¦ç™½è‰²ring-4è¾¹æ¡†ï¼Œå¢åŠ ç«‹ä½“æ„Ÿ
       - æ¸…å•è§†å›¾ï¼ˆList Viewï¼‰ï¼š
         * æ—¥æœŸåˆ†ç»„æ ‡é¢˜ï¼ˆstickyå®šä½ï¼‰
         * ç´§å‡‘çš„åˆ—è¡¨é¡¹è®¾è®¡
         * å·¦ä¾§å›¾æ ‡é‡‡ç”¨åœ†è§’æ–¹å½¢å½©è‰²èƒŒæ™¯
    
    3. å›¾æ ‡ç»Ÿä¸€åŒ–
       - æ‰€æœ‰å›¾æ ‡æ”¾ç½®åœ¨ç»Ÿä¸€å½¢çŠ¶çš„å½©è‰²èƒŒæ™¯è‰²å—ä¸­
       - ç”œèœœï¼šç²‰è‰²èƒŒæ™¯ #FFF0F3
       - å†²çªï¼šæ©™è‰²èƒŒæ™¯ #FFF4F0
       - ç¤¼ç‰©ï¼šé‡‘é»„è‰²èƒŒæ™¯ #FFFBEB
       - çº¦ä¼šï¼šç´«è‰²èƒŒæ™¯ #FAF5FF
       - AIï¼šè“è‰²èƒŒæ™¯ #F0F7FF
       - æ‰‹åŠ¨ï¼šç»¿è‰²èƒŒæ™¯ #F0FDF4
    
    4. åˆ†æ®µæ§åˆ¶å™¨ä¼˜åŒ–
       - åœ†è§’èƒŒæ™¯ï¼šrgba(118, 118, 128, 0.12)
       - é€‰ä¸­çŠ¶æ€ï¼šç™½è‰²èƒŒæ™¯ + é˜´å½±
       - å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
    
    5. ç­›é€‰æ ‡ç­¾èƒ¶å›ŠåŒ–
       - åœ†æ¶¦èƒ¶å›Šå½¢çŠ¶ï¼ˆ20pxåœ†è§’ï¼‰
       - é€‰ä¸­çŠ¶æ€ï¼šè“è‰²èƒŒæ™¯ + é˜´å½±
       - æœªé€‰ä¸­çŠ¶æ€ï¼šç™½è‰²èƒŒæ™¯ + è¾¹æ¡†
    
    ã€æ–‡ä»¶æ˜ å°„ã€‘
    - FactStreamTab.kt: äº‹å®æµæ ‡ç­¾é¡µä¸»å®¹å™¨ï¼Œæ•´åˆåŒè§†å›¾å’Œé¡¶éƒ¨æ§ä»¶
    - FactStreamTopBar.kt: é¡¶éƒ¨æ§ä»¶ï¼ˆSegmentedControlè§†å›¾åˆ‡æ¢ + æ·»åŠ /ç­›é€‰æŒ‰é’®ï¼‰
    - TimelineView.kt: æ—¶å…‰è½´è§†å›¾ï¼ˆæ€§èƒ½ä¼˜åŒ–ç‰ˆï¼Œåˆ†é¡µåŠ è½½ï¼Œè‡ªåŠ¨é™çº§ï¼‰
    - ListView.kt: æ¸…å•åˆ—è¡¨è§†å›¾ï¼ˆé«˜ä¿¡æ¯å¯†åº¦ï¼Œå¿«é€Ÿæ£€ç´¢ï¼‰
    - EmotionalTimelineNode.kt: æƒ…ç»ªèŠ‚ç‚¹ç»„ä»¶ï¼ˆå·¦ä¾§åœ†å½¢å›¾æ ‡ï¼‰
    - QuickFilterChips.kt: å¿«é€Ÿç­›é€‰æ ‡ç­¾ç»„ä»¶
    
    ã€å¡ç‰‡ç»„ä»¶æ˜ å°„ã€‘
    - ConversationCard.kt: å¯¹è¯è®°å½•å¡ç‰‡
    - AiSummaryCard.kt: AIæ€»ç»“å¡ç‰‡
    - MilestoneCard.kt: é‡Œç¨‹ç¢‘å¡ç‰‡
    - PhotoMomentCard.kt: ç…§ç‰‡æ—¶åˆ»å¡ç‰‡
    - UserFactCard: TimelineView.ktå†…éƒ¨ç§æœ‰ç»„ä»¶
    
    ã€æ•°æ®æ¨¡å‹ã€‘
    - TimelineItem (sealed class) - 5ç§ç±»å‹:
      â”œâ”€ Conversation(id, timestamp, emotionType, log: ConversationLog)
      â”œâ”€ AiSummary(id, timestamp, emotionType, summary: DailySummary)
      â”œâ”€ UserFact(id, timestamp, emotionType, fact: Fact)
      â”œâ”€ Milestone(id, timestamp, emotionType, title, description, icon)
      â””â”€ PhotoMoment(id, timestamp, emotionType, ...)
    
    - ConversationLog: å¯¹è¯æ—¥å¿—
      â”œâ”€ id: Long
      â”œâ”€ contactId: String
      â”œâ”€ userInput: String
      â”œâ”€ aiResponse: String
      â”œâ”€ timestamp: Long
      â””â”€ isSummarized: Boolean
    
    - DailySummary: æ—¥æ€»ç»“
      â”œâ”€ id: Long
      â”œâ”€ contactId: String
      â”œâ”€ summaryDate: String
      â”œâ”€ content: String
      â”œâ”€ keyEvents: List<KeyEvent>
      â”œâ”€ relationshipScoreChange: Int
      â””â”€ relationshipTrend: RelationshipTrend
    
    - Fact: äº‹å®æ¨¡å‹
      â”œâ”€ id: String
      â”œâ”€ key: String (åˆ†ç±»å)
      â”œâ”€ value: String (å†…å®¹)
      â”œâ”€ source: FactSource (MANUAL/AI_INFERRED)
      â””â”€ timestamp: Long
    
    ã€æšä¸¾å®šä¹‰ã€‘
    - EmotionTypeæšä¸¾ (6ç§):
      â”œâ”€ SWEET("â¤ï¸", "ç”œèœœ")
      â”œâ”€ CONFLICT("â›ˆï¸", "å†²çª")
      â”œâ”€ GIFT("ğŸ", "ç¤¼ç‰©")
      â”œâ”€ DATE("ğŸ½ï¸", "çº¦ä¼š")
      â”œâ”€ DEEP_TALK("ğŸ’¬", "æ·±èŠ")
      â””â”€ NEUTRAL("â­•", "æ—¥å¸¸")
    
    - ViewModeæšä¸¾ (2ç§):
      â”œâ”€ Timeline("æ—¶å…‰è½´")
      â””â”€ List("æ¸…å•")
    
    - FilterTypeæšä¸¾ (5ç§) - æ³¨æ„ï¼šæ²¡æœ‰GIFTç­›é€‰:
      â”œâ”€ ALL("å…¨éƒ¨")
      â”œâ”€ AI_SUMMARY("åªçœ‹AI")
      â”œâ”€ CONFLICT("åªçœ‹å†²çª")
      â”œâ”€ DATE("åªçœ‹çº¦ä¼š")
      â””â”€ SWEET("åªçœ‹ç”œèœœ")
    
    ã€äº¤äº’äº‹ä»¶ (ContactDetailUiEvent)ã€‘
    - SwitchViewMode(mode: ViewMode): åˆ‡æ¢è§†å›¾æ¨¡å¼
    - ToggleFilter(filter: FilterType): åˆ‡æ¢ç­›é€‰æ¡ä»¶
    - ShowAddFactToStreamDialog: æ˜¾ç¤ºæ·»åŠ äº‹å®å¯¹è¯æ¡†
    - HideAddFactToStreamDialog: éšè—æ·»åŠ äº‹å®å¯¹è¯æ¡†
    - AddFactToStream(key, value): æ·»åŠ äº‹å®åˆ°æ—¶é—´æµ
    - EditConversation(logId, newContent): ç¼–è¾‘å¯¹è¯ (TD-00012)
    - DeleteConversation(logId): åˆ é™¤å¯¹è¯
    - StartEditFact(fact): å¼€å§‹ç¼–è¾‘äº‹å® (TD-00012)
    - ConfirmEditFact(factId, newKey, newValue): ç¡®è®¤ç¼–è¾‘äº‹å®
    - DeleteFactById(factId): åˆ é™¤äº‹å®
    - StartEditSummary(summaryId): å¼€å§‹ç¼–è¾‘æ€»ç»“ (TD-00012)
    - ConfirmEditSummary(summaryId, newContent): ç¡®è®¤ç¼–è¾‘æ€»ç»“
    - DeleteSummary(summaryId): åˆ é™¤æ€»ç»“
    
    ã€æ€§èƒ½ä¼˜åŒ– (PerformanceMetrics)ã€‘
    - INITIAL_LOAD_COUNT = 50: åˆå§‹åŠ è½½æ¡æ•°
    - PAGE_SIZE = 20: åˆ†é¡µåŠ è½½å¢é‡
    - FRAME_TIME_WARNING_MS: å¸§æ—¶é—´è­¦å‘Šé˜ˆå€¼
    - ä½¿ç”¨ç¨³å®šçš„keyå‚æ•°ï¼ˆitem.idï¼‰
    - ä½¿ç”¨contentTypeä¼˜åŒ–ä¸åŒå¡ç‰‡ç±»å‹å¤ç”¨
    - è‡ªåŠ¨é™çº§æœºåˆ¶ï¼šè¿ç»­3æ¬¡æ‰å¸§è§¦å‘ç®€åŒ–æ¸²æŸ“ï¼ˆéšè—å·¦ä¾§æƒ…ç»ªèŠ‚ç‚¹ï¼‰
    - derivedStateOfä¼˜åŒ–æ»šåŠ¨æ£€æµ‹
    
    ã€å›è°ƒå‡½æ•°æ˜ å°„ã€‘
    - onViewModeChange: (ViewMode) -> Unit
    - onFilterToggle: (FilterType) -> Unit
    - onItemClick: ((TimelineItem) -> Unit)?
    - onFilterButtonClick: (() -> Unit)?
    - onConversationEdit: ((Long) -> Unit)?
    - onFactEdit: ((String) -> Unit)?
    - onSummaryEdit: ((Long) -> Unit)?
    - onAddFactClick: (() -> Unit)?
    -->
</body>
</html>
