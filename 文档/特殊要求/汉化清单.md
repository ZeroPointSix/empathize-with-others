# 代码汉化清单

## 概述
本文档记录项目中所有需要汉化的英文提示信息。

## 汉化原则
1. 用户可见的提示信息必须使用中文
2. 日志信息（Log）保持英文或使用中文（根据上下文）
3. 代码注释、变量名、类名保持英文
4. 异常消息使用中文

## 需要汉化的文件清单

### 1. UI 组件
- [x] `SettingsScreen.kt` - "AI 服务商"、"AI 分析前自动掩码敏感信息" 已是中文
- [x] `ProviderCard.kt` - "API 端点" 已是中文
- [ ] `FloatingView.kt` - "AI" 按钮文本可保持

### 2. 日志信息
- [ ] `PerformanceTracker.kt` - 性能日志
- [ ] `OperationExecutor.kt` - 操作执行日志
- [ ] `SettingsViewModel.kt` - 错误日志

### 3. 测试代码
- [ ] 测试代码中的英文字符串（测试数据可保持英文）

### 4. 错误处理
- [ ] `ErrorHandler.kt` - 错误日志
- [ ] `ErrorMapper.kt` - 错误映射

## 详细修改列表

### PerformanceTracker.kt
```kotlin
// 原文
"$sectionName took ${duration}ms, exceeds threshold ${threshold}ms"
// 改为
"$sectionName 耗时 ${duration}ms，超过阈值 ${threshold}ms"

// 原文
"Performance warning: $operation took ${duration}ms (threshold: ${threshold}ms)"
// 改为
"性能警告：$operation 耗时 ${duration}ms（阈值：${threshold}ms）"

// 原文
"Performance: $operation took ${duration}ms"
// 改为
"性能：$operation 耗时 ${duration}ms"

// 原文
"Started: $operation"
// 改为
"开始：$operation"
```

### OperationExecutor.kt
```kotlin
// 原文
"Retry $retryCount after ${delayMs}ms"
// 改为
"第 $retryCount 次重试，延迟 ${delayMs}ms"

// 原文
"Retry $retryCount after ${delayMs}ms due to exception: ${e.message}"
// 改为
"第 $retryCount 次重试，延迟 ${delayMs}ms，原因：${e.message}"

// 原文
"Operation failed after $retryCount retries: ${finalError.message}"
// 改为
"操作失败，已重试 $retryCount 次：${finalError.message}"

// 原文
"Retry ${attempt + 1}/${config.maxRetries} after ${currentDelay}ms"
// 改为
"第 ${attempt + 1}/${config.maxRetries} 次重试，延迟 ${currentDelay}ms"

// 原文
"Operation failed after ${config.maxRetries} retries"
// 改为
"操作失败，已重试 ${config.maxRetries} 次"

// 原文
"Operation failed"
// 改为
"操作失败"
```

### SettingsViewModel.kt
```kotlin
// 原文
"加载服务商列表失败"
// 已是中文 ✓

// 原文
"切换服务商失败"
// 已是中文 ✓

// 原文
"权限检查正在进行中，跳过"
// 已是中文 ✓

// 原文
"悬浮窗权限被拒绝: ${permissionResult.message}"
// 已是中文 ✓

// 原文
"检查悬浮窗权限出错: ${permissionResult.message}"
// 已是中文 ✓

// 原文
"检查悬浮窗权限失败"
// 已是中文 ✓

// 原文
"悬浮窗切换正在进行中，跳过"
// 已是中文 ✓

// 原文
"保存悬浮窗状态失败"
// 已是中文 ✓

// 原文
"启动悬浮窗服务失败"
// 已是中文 ✓

// 原文
"停止悬浮窗服务失败"
// 已是中文 ✓
```

### ErrorHandler.kt
```kotlin
// 原文
"UseCase错误"
// 已是中文 ✓

// 原文
"发生未知错误"
// 已是中文 ✓

// 原文
"显示Toast失败: $message"
// 已是中文 ✓
```

### FloatingView.kt
```kotlin
// 原文
"AI 请求失败，请检查网络连接或重试"
// 已是中文 ✓

// 原文
"显示错误提示: $message"
// 已是中文 ✓

// 原文
"显示错误提示失败"
// 已是中文 ✓

// 原文
"悬浮窗功能已启用"
// 已是中文 ✓

// 原文
text = "AI"
// 保持英文，这是品牌标识
```

## 总结
经过检查，发现：
1. **UI 层的用户可见文本已全部中文化** ✓
2. **需要汉化的主要是日志信息**，包括：
   - PerformanceTracker.kt 的性能日志
   - OperationExecutor.kt 的重试日志
3. **大部分错误提示已经是中文** ✓

## 优先级
- **高优先级**：PerformanceTracker.kt、OperationExecutor.kt（开发者常看的日志）
- **中优先级**：其他工具类的日志
- **低优先级**：测试代码中的英文（不影响用户）
